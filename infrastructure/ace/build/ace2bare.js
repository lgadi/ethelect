Ace2Editor.registry={nextId:1};function Ace2Editor(){var K="Ace2Editor";var F=Ace2Editor;var B={};var A={editor:B,id:(F.registry.nextId++)};
var D=false;var E=[];function C(R,Q){return function(){var T=this;var S=arguments;function U(){R.apply(T,S);
}if(Q){Q.apply(T,S);}if(D){U();}else{E.push(U);}};}function I(){for(var Q=0;Q<E.length;Q++){E[Q]();}E=[];
}F.registry[A.id]=A;B.importText=C(function(R,Q){A.ace_importText(R,Q);});B.importAText=C(function(R,S,Q){A.ace_importAText(R,S,Q);
});B.exportText=function(){if(!D){return"(awaiting init)\n";}return A.ace_exportText();};B.getFrame=function(){return A.frame||null;
};B.focus=C(function(){A.ace_focus();});B.setEditable=C(function(Q){A.ace_setEditable(Q);});B.getFormattedCode=function(){return A.ace_getFormattedCode();
};B.setOnKeyPress=C(function(Q){A.ace_setOnKeyPress(Q);});B.setOnKeyDown=C(function(Q){A.ace_setOnKeyDown(Q);
});B.setNotifyDirty=C(function(Q){A.ace_setNotifyDirty(Q);});B.setProperty=C(function(Q,R){A.ace_setProperty(Q,R);
});B.getDebugProperty=function(Q){return A.ace_getDebugProperty(Q);};B.setBaseText=C(function(Q){A.ace_setBaseText(Q);
});B.setBaseAttributedText=C(function(R,Q){A.ace_setBaseAttributedText(R,Q);});B.applyChangesToBase=C(function(R,Q,S){A.ace_applyChangesToBase(R,Q,S);
});B.prepareUserChangeset=function(){if(!D){return null;}return A.ace_prepareUserChangeset();};B.applyPreparedChangesetToBase=C(function(){A.ace_applyPreparedChangesetToBase();
});B.setUserChangeNotificationCallback=C(function(Q){A.ace_setUserChangeNotificationCallback(Q);});B.setAuthorInfo=C(function(R,Q){A.ace_setAuthorInfo(R,Q);
});B.setAuthorSelectionRange=C(function(R,S,Q){A.ace_setAuthorSelectionRange(R,S,Q);});B.getUnhandledErrors=function(){if(!D){return[];
}return A.ace_getUnhandledErrors();};B.callWithAce=C(function(S,R,Q){return A.ace_callWithAce(S,R,Q);
});B.execCommand=C(function(R,Q){A.ace_execCommand(R,Q);});B.replaceRange=C(function(S,Q,R){A.ace_replaceRange(S,Q,R);
});var H=function(Q){return'<link rel="stylesheet" type="text/css" href="'+Q+'"/>';};var J=function(Q){return'\x3cscript type="text/javascript" src="'+Q+'">\x3c/script>';
};var M=J;var N=H;var L=function(Q){return'\'<link rel="stylesheet" type="text/css" href="'+Q+"\"/>'";
};var G=function(Q){return'\'\\x3cscript type="text/javascript" src="'+Q+"\">\\x3c/script>'";};var P=G;
var O=L;B.destroy=C(function(){A.ace_dispose();A.frame.parentNode.removeChild(A.frame);delete F.registry[A.id];
A=null;});B.init=function(Q,S,R){B.importText(S);A.onEditorReady=function(){D=true;I();R();};(function(){var W='<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">';
var T=["'"+W+"<html><head>'"];plugins.callHook("aceInitInnerdocbodyHead",{iframeHTML:T});T.push(("('<style type=\"text/css\">'+'body{margin:0;white-space:nowrap;}#outerdocbody{background-color:#fff;}body.grayedout{background-color:#eee!important;}#innerdocbody{font-size:12px;font-family:monospace;line-height:16px;}body.doesWrap{white-space:normal;}#innerdocbody{padding-top:1px;padding-right:10px;padding-bottom:8px;padding-left:1px;overflow:hidden;background-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);}#sidediv{font-size:11px;font-family:monospace;line-height:16px;padding-top:8px;padding-right:3px;position:absolute;width:20px;top:0;left:0;cursor:default;color:white;}#sidedivinner{text-align:right;}.sidedivdelayed{background-color:#eee;color:#888!important;border-right:1px solid #999;}.sidedivhidden{display:none;}#outerdocbody iframe{display:block;position:relative;left:32px;top:7px;border:0;width:1px;height:1px;}#outerdocbody .hotrect{border:1px solid #999;position:absolute;}body.mozilla,body.safari{display:table-cell;}body.doesWrap{display:block!important;}.safari div{padding-right:1px;}p{margin:0;}#linemetricsdiv{position:absolute;left:-1000px;top:-1000px;color:white;z-index:-1;font-size:12px;font-family:monospace;}#overlaysdiv{position:absolute;left:-1000px;top:-1000px;}.syntax .c{color:#bd3f00;font-style:italic;}.syntax .o{font-weight:bold;}.syntax .p{font-weight:bold;}.syntax .k{color:blue;}.syntax .kc{color:purple;}.syntax .mf{color:purple;}.syntax .mh{color:purple;}.syntax .mi{color:purple;}.syntax .sr{color:purple;}.syntax .s2{color:purple;}.syntax .s1{color:purple;}.syntax .sd{color:purple;}.syntax .cs{color:#0a3;font-weight:bold;font-style:italic;}.syntax .err{color:#c00;font-weight:bold;text-decoration:underline;}.syntax .nt{font-weight:bold;}.syntax .nc{color:#336;}.syntax .nf{color:#336;}.syntax .nd{color:#999;}.syntax .m{color:purple;}.syntax .nb{color:purple;}.syntax .cp{color:#bd3f00;}.syntax .flash{background-color:#adf!important;}.syntax .flashbad{background-color:#f55!important;}html{cursor:text;}span{cursor:auto;}a{cursor:pointer!important;}ul,ol,li{padding:0;margin:0;}ul{margin-left:1.5em;}ul ul{margin-left:0!important;}ul.list-bullet1{margin-left:1.5em;}ul.list-bullet2{margin-left:3em;}ul.list-bullet3{margin-left:4.5em;}ul.list-bullet4{margin-left:6em;}ul.list-bullet5{margin-left:7.5em;}ul.list-bullet6{margin-left:9em;}ul.list-bullet7{margin-left:10.5em;}ul.list-bullet8{margin-left:12em;}ul{list-style-type:disc;}ul.list-bullet1{list-style-type:disc;}ul.list-bullet2{list-style-type:circle;}ul.list-bullet3{list-style-type:square;}ul.list-bullet4{list-style-type:disc;}ul.list-bullet5{list-style-type:circle;}ul.list-bullet6{list-style-type:square;}ul.list-bullet7{list-style-type:disc;}ul.list-bullet8{list-style-type:circle;}'+'\\x3c/style>')"));
T.push(('(\'\\x3cscript type="text/javascript">//<!--\\n\'+\'function isNodeText(A){return(A.nodeType==3);}function object(B){var A=function(){};A.prototype=B;return new A();\\n}function extend(C,A){for(var B in A){C[B]=A[B];}return C;}function forEach(B,D){for(var A=0;A\\x3cB.length;\\nA++){var C=D(B[A],A);if(C){break;}}}function map(C,D){var B=[];for(var A=0;A\\x3cC.length;A++){if(D){B.push(D(C[A],A));\\n}else{B.push(C[A]);}}return B;}function filter(B,D){var C=[];for(var A=0;A\\x3cB.length;A++){if(D(B[A],A)){C.push(B[A]);\\n}}return C;}function isArray(A){return A&&typeof A==="object"&&!(A.propertyIsEnumerable("length"))&&typeof A.length==="number";\\n}var userAgent=navigator.userAgent.toLowerCase();var browser={version:(userAgent.match(/.+(?:rv|it|ra|ie)[\\\\\\x2f: ]([\\\\d.]+)/)||[])[1],safari:/webkit/.test(userAgent),opera:/opera/.test(userAgent),msie:/msie/.test(userAgent)&&!/opera/.test(userAgent),mozilla:/mozilla/.test(userAgent)&&!/(compatible|webkit)/.test(userAgent),windows:/windows/.test(userAgent)};\\nfunction getAssoc(B,A){return B["_magicdom_"+A];}function setAssoc(C,A,B){C["_magicdom_"+A]=B;}function binarySearch(A,E){if(A\\x3c1){return 0;\\n}if(E(0)){return 0;}if(!E(A-1)){return A;}var D=0;var B=A-1;while((B-D)>1){var C=Math.floor((D+B)/2);\\nif(E(C)){B=C;}else{D=C;}}return B;}function binarySearchInfinite(C,B){var A=0;while(!B(A)){A+=C;}return binarySearch(A,B);\\n}function htmlPrettyEscape(A){return A.replace(/&/g,"&amp;").replace(/\\x3c/g,"&lt;").replace(/>/g,"&gt;").replace(/\\\\r?\\\\n/g,"\\\\\\\\n");\\n}function newSkipList(){var H=window.PROFILER;if(!H){H=function(){return{start:G,mark:G,literal:G,end:G,cancel:G};\\n};}function G(){}var B={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[1],downSkipWidths:[0]};\\nvar E={key:null,levels:1,upPtrs:[null],downPtrs:[null],downSkips:[null],downSkipWidths:[null]};var A=0;\\nvar D=0;var I={};B.downPtrs[0]=E;E.upPtrs[0]=B;function J(Z){var W=B.levels;var T=W-1;var X=-1,b=0;var V=new Array(W);\\nvar Y=new Array(W);var a=new Array(W);V[T]=B;Y[T]=-1;a[T]=0;while(T>=0){var U=V[T];while(U.downPtrs[T]&&(X+U.downSkips[T]\\x3cZ)){X+=U.downSkips[T];\\nb+=U.downSkipWidths[T];U=U.downPtrs[T];}V[T]=U;Y[T]=X;a[T]=b;T--;if(T>=0){V[T]=U;}}return{nodes:V,idxs:Y,loc:Z,widthSkips:a,toString:function(){return"getPoint("+Z+")";\\n}};}function P(W){var V=0;var T=B;var U=B.levels-1;while(U>=0&&T.downPtrs[U]){while(T.downPtrs[U]&&(V+T.downSkipWidths[U]\\x3c=W)){V+=T.downSkipWidths[U];\\nT=T.downPtrs[U];}U--;}if(T===B){return(B.downPtrs[0]||null);}else{if(T===E){return(W==D?(E.upPtrs[0]||null):null);\\n}}return T;}function K(T){return(T&&T.width)||0;}function N(V,f,h){var X=H("insertKey",false);var W={key:f,levels:0,upPtrs:[],downPtrs:[],downSkips:[],downSkipWidths:[]};\\nX.mark("donealloc");var Y=V.nodes;var e=V.idxs;var k=V.loc;var j=V.widthSkips[0]+V.nodes[0].downSkipWidths[0];\\nvar a=K(h);X.mark("loop1");while(W.levels==0||Math.random()\\x3c0.01){var T=W.levels;W.levels++;if(T==Y.length){Y[T]=B;\\ne[T]=-1;B.levels++;E.levels++;B.downPtrs[T]=E;E.upPtrs[T]=B;B.downSkips[T]=A+1;B.downSkipWidths[T]=D;\\nV.widthSkips[T]=0;}var Z=W;var U=Y[T];var d=U.downPtrs[T];var b=k-e[T];var g=U.downSkips[T]+1-b;U.downSkips[T]=b;\\nU.downPtrs[T]=Z;Z.downSkips[T]=g;Z.upPtrs[T]=U;Z.downPtrs[T]=d;d.upPtrs[T]=Z;var c=j-V.widthSkips[T];\\nvar i=U.downSkipWidths[T]+a-c;U.downSkipWidths[T]=c;Z.downSkipWidths[T]=i;}X.mark("loop2");X.literal(Y.length,"PNL");\\nfor(var T=W.levels;T\\x3cY.length;T++){var U=Y[T];U.downSkips[T]++;U.downSkipWidths[T]+=a;}X.mark("map");\\nI["$KEY$"+f]=W;A++;D+=a;X.end();}function O(T){return T.nodes[0].downPtrs[0];}function S(U){U.loc++;for(var T=0;\\nT\\x3cU.nodes.length;T++){if(U.idxs[T]+U.nodes[T].downSkips[T]\\x3cU.loc){U.idxs[T]+=U.nodes[T].downSkips[T];\\nU.widthSkips[T]+=U.nodes[T].downSkipWidths[T];U.nodes[T]=U.nodes[T].downPtrs[T];}}}function M(W){var V=W.nodes[0].downPtrs[0];\\nvar X=K(V.entry);for(var T=0;T\\x3cW.nodes.length;T++){if(T\\x3cV.levels){var U=V.upPtrs[T];var Y=V.downPtrs[T];\\nvar a=U.downSkips[T]+V.downSkips[T]-1;U.downPtrs[T]=Y;Y.upPtrs[T]=U;U.downSkips[T]=a;var Z=U.downSkipWidths[T]+V.downSkipWidths[T]-X;\\nU.downSkipWidths[T]=Z;}else{var U=W.nodes[T];var Y=U.downPtrs[T];U.downSkips[T]--;U.downSkipWidths[T]-=X;\\n}}delete I["$KEY$"+V.key];A--;D-=X;}function R(V){var X=V.downSkipWidths[0];var Y=K(V.entry);var W=Y-X;\\nvar U=V;var T=0;while(T\\x3cU.levels){U.downSkipWidths[T]+=W;T++;while(T>=U.levels&&U.upPtrs[T-1]){U=U.upPtrs[T-1];\\n}}D+=W;}function L(X,W){var V=(W?0:-1);var T=X;while(T!==B){var U=T.levels-1;T=T.upPtrs[U];if(W){V+=T.downSkipWidths[U];\\n}else{V+=T.downSkips[U];}}return V;}function F(T){return I["$KEY$"+T];}function Q(Y){var U=B;var T=B.levels-1;\\nvar W=-1;function X(Z){if(Z===B){return false;}else{if(Z===E){return true;}else{return Y(Z.entry);}}}while(T>=0){var V=U.downPtrs[T];\\nwhile(!X(V)){W+=U.downSkips[T];U=V;V=U.downPtrs[T];}T--;}return W+1;}var C={length:function(){return A;\\n},atIndex:function(T){if(T\\x3c0){console.warn("atIndex("+T+")");}if(T>=A){console.warn("atIndex("+T+">="+A+")");\\n}return O(J(T)).entry;},splice:function(T,W,V){if(T\\x3c0){console.warn("splice("+T+", ...)");}if(T+W>A){console.warn("splice("+T+", "+W+", ...), N="+A);\\nconsole.warn("%s %s %s",typeof T,typeof W,typeof A);console.trace();}if(!V){V=[];}var Y=J(T);for(var U=0;\\nU\\x3cW;U++){M(Y);}for(var U=(V.length-1);U>=0;U--){var X=V[U];N(Y,X.key,X);var Z=F(X.key);Z.entry=X;}},next:function(T){return F(T.key).downPtrs[0].entry||null;\\n},prev:function(T){return F(T.key).upPtrs[0].entry||null;},push:function(T){C.splice(A,0,[T]);},slice:function(T,U){if(T===undefined){T=0;\\n}else{if(T\\x3c0){T+=A;}}if(U===undefined){U=A;}else{if(U\\x3c0){U+=A;}}if(T\\x3c0){T=0;}if(T>A){T=A;}if(U\\x3c0){U=0;\\n}if(U>A){U=A;}dmesg(String([T,U,A]));if(U\\x3c=T){return[];}var V=C.atIndex(T);var X=[V];for(var W=1;W\\x3c(U-T);\\nW++){V=C.next(V);X.push(V);}return X;},atKey:function(T){return F(T).entry;},indexOfKey:function(T){return L(F(T));\\n},indexOfEntry:function(T){return C.indexOfKey(T.key);},containsKey:function(T){return !!(F(T));},atOffset:function(T){return P(T).entry;\\n},keyAtOffset:function(T){return C.atOffset(T).key;},offsetOfKey:function(T){return L(F(T),true);},offsetOfEntry:function(T){return C.offsetOfKey(T.key);\\n},setEntryWidth:function(T,U){T.width=U;R(F(T.key));},totalWidth:function(){return D;},offsetOfIndex:function(T){if(T\\x3c0){return 0;\\n}if(T>=A){return D;}return C.offsetOfEntry(C.atIndex(T));},indexOfOffset:function(T){if(T\\x3c=0){return 0;\\n}if(T>=D){return A;}return C.indexOfEntry(C.atOffset(T));},search:function(T){return Q(T);},debugGetPoint:J,debugDepth:function(){return B.levels;\\n}};return C;}function makeVirtualLineView(B){var E=20;var D=null;function G(){return B.textContent.length;\\n}function F(){if(!D){var J=C();J.forwardByWhile(E);D=J;}return D.getVirtualLine()+1;}function H(L){var J=C();\\nJ.forwardByWhile(E,null,L);var K=J.getVirtualLine();J.backwardByWhile(8,function(){return J.getVirtualLine()==K;\\n});J.forwardByWhile(1,function(){return J.getVirtualLine()!=K;});var M=J.getOffset();return{vline:K,offset:(L-M)};\\n}function I(Q,P){var J=C();J.binarySearch(function(){return J.getVirtualLine()>=Q;});var M=J.getOffset();\\nvar L=J.getVirtualLine();J.forwardByWhile(E,null,M+P);J.backwardByWhile(1,function(){return J.getVirtualLine()!=L;\\n},M);var K=J.getOffset();var N=K-M;if(N\\x3cP&&L==(F()-1)){var O=G();N+=O-K;K=O;}return{vline:L,offset:N,lineChar:K};\\n}return{getNumVirtualLines:F,getVLineAndOffsetForChar:H,getCharForVLineAndOffset:I,makeCharSeeker:function(){return C();\\n}};function A(J){J=J.firstChild;while(J&&J.firstChild){J=J.firstChild;}if(J.data){return J;}return null;\\n}function C(){function T(a,b){var Z=a.parentNode;var f=(a.nodeValue.charAt(b)===" ");if(f){if(b==0){if(Z.previousSibling&&A(Z.previousSibling)){a=A(Z.previousSibling);\\nb=a.length-1;Z=a.parentNode;}else{return{top:Z.offsetTop,left:Z.offsetLeft};}}else{b--;}}var c=document.createElement("SPAN");\\nvar e=a.nodeValue;var d=document.createDocumentFragment();d.appendChild(document.createTextNode(e.substring(0,b)));\\nc.appendChild(document.createTextNode(e.substr(b,1)));d.appendChild(c);d.appendChild(document.createTextNode(e.substring(b+1)));\\nZ.replaceChild(d,a);var g={top:c.offsetTop,left:c.offsetLeft+(f?c.offsetWidth:0),height:c.offsetHeight};\\nwhile(Z.firstChild){Z.removeChild(Z.firstChild);}Z.appendChild(a);return g;}var Y=B.textContent;var O=Y.length;\\nvar M=null;var J=0;var L=0;var P;var N;var V;var X=0;function Q(){var Z=M;if(!Z){Z=B.firstChild;}else{Z=Z.nextSibling;\\n}while(Z&&!A(Z)){Z=Z.nextSibling;}return Z;}function S(){var Z=M;if(!Z){Z=B.lastChild;}else{Z=Z.previousSibling;\\n}while(Z&&!A(Z)){Z=Z.previousSibling;}return Z;}var K;if(O>0){M=Q();var R=T(A(M),0);V=R.height;P=R.top;\\nN=R.left;function W(b,a){var Z=T(b,a);X+=Math.round((Z.top-P)/V);P=Z.top;N=Z.left;}K={forward:function(e){var c=J;\\nvar Z=J+e;if(Z>(O-1)){Z=O-1;}while(J\\x3cZ){var d=A(M).length;var a=d-L;if(J+a>Z||!Q()){var b=Z-J;if(b>=a){b=a-1;\\n}J+=b;L+=b;break;}else{J+=a;L=0;M=Q();}}W(A(M),L);return J-c;},backward:function(c){var b=J;var Z=J-c;\\nif(Z\\x3c0){Z=0;}while(J>Z){if(J-L\\x3c=Z||!S()){var a=J-Z;if(a>L){a=L;}J-=a;L-=a;break;}else{J-=L+1;M=S();L=A(M).length-1;\\n}}W(A(M),L);return b-J;},getVirtualLine:function(){return X;},getLeftCoord:function(){return N;}};}else{N=B.offsetLeft;\\nK={forward:function(Z){return 0;},backward:function(Z){return 0;},getVirtualLine:function(){return 0;\\n},getLeftCoord:function(){return N;}};}K.getOffset=function(){return J;};K.getLineLength=function(){return O;\\n};K.toString=function(){return"seeker[curChar: "+J+"("+Y.charAt(J)+"), left: "+K.getLeftCoord()+", vline: "+K.getVirtualLine()+"]";\\n};function U(c,j,e,a){var b=null;var i=((typeof e)=="function");var h=e;var g=((typeof a)=="number");\\nvar d=a;while(b!==0&&((!i)||h())){var Z=j;if(g){var f=(c?J-d:d-J);if(f\\x3cZ){Z=f;}}if(Z\\x3c0){break;}b=(c?K.backward(Z):K.forward(Z));\\n}}K.forwardByWhile=function(Z,b,a){U(false,Z,b,a);};K.backwardByWhile=function(Z,b,a){U(true,Z,b,a);};\\nK.binarySearch=function(Z){var b=Z;var a=function(){return !Z();};K.forwardByWhile(20,a);K.backwardByWhile(20,b);\\nK.forwardByWhile(10,a);K.backwardByWhile(5,b);K.forwardByWhile(1,a);return K.getOffset()+(Z()?0:1);};\\nreturn K;}}var _opt=null;function AttribPool(){var A={};A.numToAttrib={};A.attribToNum={};A.nextNum=0;\\nA.putAttrib=function(C,E){var D=String(C);if(D in A.attribToNum){return A.attribToNum[D];}if(E){return -1;\\n}var B=A.nextNum++;A.attribToNum[D]=B;A.numToAttrib[B]=[String(C[0]||""),String(C[1]||"")];return B;};\\nA.getAttrib=function(C){var B=A.numToAttrib[C];if(!B){return B;}return[B[0],B[1]];};A.getAttribKey=function(C){var B=A.numToAttrib[C];\\nif(!B){return"";}return B[0];};A.getAttribValue=function(C){var B=A.numToAttrib[C];if(!B){return"";}return B[1];\\n};A.eachAttrib=function(C){for(var D in A.numToAttrib){var B=A.numToAttrib[D];C(B[0],B[1]);}};A.toJsonable=function(){return{numToAttrib:A.numToAttrib,nextNum:A.nextNum};\\n};A.fromJsonable=function(B){A.numToAttrib=B.numToAttrib;A.nextNum=B.nextNum;A.attribToNum={};for(var C in A.numToAttrib){A.attribToNum[String(A.numToAttrib[C])]=Number(C);\\n}return A;};return A;}var Changeset={};Changeset.error=function error(B){var A=new Error(B);A.easysync=true;\\nthrow A;};Changeset.assert=function assert(A,C){if(!A){var B=Array.prototype.slice.call(arguments,1).join("");\\nChangeset.error("Changeset: "+B);}};Changeset.parseNum=function(A){return parseInt(A,36);};Changeset.numToString=function(A){return A.toString(36).toLowerCase();\\n};Changeset.toBaseTen=function(A){var B=A.indexOf("$");var D=A.substring(0,B);var C=A.substring(B);return D.replace(/[0-9a-z]+/g,function(E){return String(Changeset.parseNum(E));\\n})+C;};Changeset.oldLen=function(A){return Changeset.unpack(A).oldLen;};Changeset.newLen=function(A){return Changeset.unpack(A).newLen;\\n};Changeset.opIterator=function(E,K){var D=/((?:\\\\*[0-9a-z]+)*)(?:\\\\|([0-9a-z]+))?([-+=])([0-9a-z]+)|\\\\?|/g;\\nvar L=(K||0);var B=L;var F=B;function C(){F=B;var M;if(_opt){M=_opt.nextOpInString(E,B);if(M){if(M.opcode()=="?"){Changeset.error("Hit error opcode in op stream");\\n}B=M.lastIndex();}}else{D.lastIndex=B;M=D.exec(E);B=D.lastIndex;if(M[0]=="?"){Changeset.error("Hit error opcode in op stream");\\n}}return M;}var A=C();var H=Changeset.newOp();function I(N){var M=(N||H);if(_opt&&A){M.attribs=A.attribs();\\nM.lines=A.lines();M.chars=A.chars();M.opcode=A.opcode();A=C();}else{if((!_opt)&&A[0]){M.attribs=A[1];\\nM.lines=Changeset.parseNum(A[2]||0);M.opcode=A[3];M.chars=Changeset.parseNum(A[4]);A=C();}else{Changeset.clearOp(M);\\n}}return M;}function G(){return !!(_opt?A:A[0]);}function J(){return F;}return{next:I,hasNext:G,lastIndex:J};\\n};Changeset.clearOp=function(A){A.opcode="";A.chars=0;A.lines=0;A.attribs="";};Changeset.newOp=function(A){return{opcode:(A||""),chars:0,lines:0,attribs:""};\\n};Changeset.cloneOp=function(A){return{opcode:A.opcode,chars:A.chars,lines:A.lines,attribs:A.attribs};\\n};Changeset.copyOp=function(B,A){A.opcode=B.opcode;A.chars=B.chars;A.lines=B.lines;A.attribs=B.attribs;\\n};Changeset.opString=function(B){if(!B.opcode){return"null";}var A=Changeset.opAssembler();A.append(B);\\nreturn A.toString();};Changeset.stringOp=function(A){return Changeset.opIterator(A).next();};Changeset.checkRep=function(C){var G=Changeset.unpack(C);\\nvar F=G.oldLen;var J=G.newLen;var M=G.ops;var E=G.charBank;var I=Changeset.smartOpAssembler();var D=0;\\nvar B=0;var H=0;var K=Changeset.opIterator(M);while(K.hasNext()){var A=K.next();switch(A.opcode){case"=":D+=A.chars;\\nB+=A.chars;break;case"-":D+=A.chars;Changeset.assert(D\\x3cF,D," >= ",F," in ",C);break;case"+":B+=A.chars;\\nH+=A.chars;Changeset.assert(B\\x3cJ,B," >= ",J," in ",C);break;}I.append(A);}B+=F-D;E=E.substring(0,H);while(E.length\\x3cH){E+="?";\\n}I.endDocument();var L=Changeset.pack(F,B,I.toString(),E);Changeset.assert(L==C,L," != ",C);return C;\\n};Changeset.smartOpAssembler=function(){var G=Changeset.mergingOpAssembler();var E=Changeset.mergingOpAssembler();\\nvar B=Changeset.mergingOpAssembler();var A=Changeset.stringAssembler();var C="";var F=0;function H(){A.append(B.toString());\\nB.clear();}function I(){A.append(G.toString());G.clear();A.append(E.toString());E.clear();}function D(O){if(!O.opcode){return;\\n}if(!O.chars){return;}if(O.opcode=="-"){if(C=="="){H();}G.append(O);F-=O.chars;}else{if(O.opcode=="+"){if(C=="="){H();\\n}E.append(O);F+=O.chars;}else{if(O.opcode=="="){if(C!="="){I();}B.append(O);}}}C=O.opcode;}function M(R,P,T,S){var O=Changeset.newOp(R);\\nO.attribs=Changeset.makeAttribsString(R,T,S);var Q=P.lastIndexOf("\\\\n");if(Q\\x3c0){O.chars=P.length;O.lines=0;\\nD(O);}else{O.chars=Q+1;O.lines=P.match(/\\\\n/g).length;D(O);O.chars=P.length-(Q+1);O.lines=0;D(O);}}function K(){I();\\nH();return A.toString();}function N(){G.clear();E.clear();B.clear();A.clear();F=0;}function L(){B.endDocument();\\n}function J(){return F;}return{append:D,toString:K,clear:N,endDocument:L,appendOpWithText:M,getLengthChange:J};\\n};if(_opt){Changeset.mergingOpAssembler=function(){var A=_opt.mergingOpAssembler();function C(F){A.append(F.opcode,F.chars,F.lines,F.attribs);\\n}function E(){return A.toString();}function B(){A.clear();}function D(){A.endDocument();}return{append:C,toString:E,clear:B,endDocument:D};\\n};}else{Changeset.mergingOpAssembler=function(){var C=Changeset.opAssembler();var A=Changeset.newOp();\\nvar B=0;function D(I){if(A.opcode){if(I&&A.opcode=="="&&!A.attribs){}else{C.append(A);if(B){A.chars=B;\\nA.lines=0;C.append(A);B=0;}}A.opcode="";}}function F(I){if(I.chars>0){if(A.opcode==I.opcode&&A.attribs==I.attribs){if(I.lines>0){A.chars+=B+I.chars;\\nA.lines+=I.lines;B=0;}else{if(A.lines==0){A.chars+=I.chars;}else{B+=I.chars;}}}else{D();Changeset.copyOp(I,A);\\n}}}function G(){D(true);}function H(){D();return C.toString();}function E(){C.clear();Changeset.clearOp(A);\\n}return{append:F,toString:H,clear:E,endDocument:G};};}if(_opt){Changeset.opAssembler=function(){var A=_opt.opAssembler();\\nfunction C(E){A.append(E.opcode,E.chars,E.lines,E.attribs);}function D(){return A.toString();}function B(){A.clear();\\n}return{append:C,toString:D,clear:B};};}else{Changeset.opAssembler=function(){var A=[];function C(E){A.push(E.attribs);\\nif(E.lines){A.push("|",Changeset.numToString(E.lines));}A.push(E.opcode);A.push(Changeset.numToString(E.chars));\\n}function D(){return A.join("");}function B(){A.length=0;}return{append:C,toString:D,clear:B};};}Changeset.stringIterator=function(D){var A=0;\\nfunction B(H){Changeset.assert(H\\x3c=C(),"!(",H," \\x3c= ",C(),")");}function F(H){B(H);var I=D.substr(A,H);\\nA+=H;return I;}function E(H){B(H);var I=D.substr(A,H);return I;}function G(H){B(H);A+=H;}function C(){return D.length-A;\\n}return{take:F,skip:G,remaining:C,peek:E};};Changeset.stringAssembler=function(){var A=[];function B(D){A.push(String(D));\\n}function C(){return A.join("");}return{append:B,toString:C};};Changeset.textLinesMutator=function(C){var A=[0,0];\\nvar D=false;var E=0,B=0;function O(X){C.splice.apply(C,X);}function S(){return C.toSource();}function J(X){if(C.get){return C.get(X);\\n}else{return C[X];}}function U(Y,X){if(C.slice){return C.slice(Y,X);}else{return[];}}function T(){if((typeof C.length)=="number"){return C.length;\\n}else{return C.length();}}function G(){A[0]=E;A[1]=0;if(B>0){F();}D=true;}function K(){O(A);A.length=2;\\nA[0]=A[1]=0;D=false;}function H(){return(E-A[0]\\x3c(A.length-2));}function W(X){print(X+": "+A.toSource()+" / "+E+","+B+" / "+S());\\n}function F(){if(!H()){A.push(J(A[0]+A[1]));A[1]++;}return 2+E-A[0];}function L(X,Z){if(X){if(Z){if(!D){G();\\n}for(var Y=0;Y\\x3cX;Y++){B=0;F();E++;}}else{if(D){if(X>1){K();}else{F();}}E+=X;B=0;}}}function R(Z,Y,X){if(Z){if(Y){L(Y,X);\\n}else{if(X&&!D){G();}if(D){F();}B+=Z;}}}function I(X){var Y="";if(X){if(!D){G();}function a(c){var b=A[0]+A[1];\\nreturn U(b,b+c).join("");}if(H()){if(B==0){Y=A[A.length-1];A.length--;Y+=a(X-1);A[1]+=X-1;}else{Y=a(X-1);\\nA[1]+=X-1;var Z=A.length-1;Y=A[Z].substring(B)+Y;A[Z]=A[Z].substring(0,B)+J(A[0]+A[1]);A[1]+=1;}}else{Y=a(X);\\nA[1]+=X;}}return Y;}function V(Y,Z){var a="";if(Y){if(Z){return I(Z);}else{if(!D){G();}var X=F();a=A[X].substring(B,B+Y);\\nA[X]=A[X].substring(0,B)+A[X].substring(B+Y);}}return a;}function M(Z,c){if(Z){if(!D){G();}if(c){var X=Changeset.splitTextLines(Z);\\nif(H()){var Y=A.length-1;var a=A[Y];var b=B;A[Y]=a.substring(0,b)+X[0];E++;X.splice(0,1);Array.prototype.push.apply(A,X);\\nE+=X.length;A.push(a.substring(b));B=0;}else{Array.prototype.push.apply(A,X);E+=X.length;}}else{var Y=F();\\nA[Y]=A[Y].substring(0,B)+Z+A[Y].substring(B);B+=Z.length;}}}function N(){var X=T();if(D){X+=A.length-2-A[1];\\n}return E\\x3cX;}function P(){if(D){K();}}var Q={skip:R,remove:V,insert:M,close:P,hasMore:N,removeLines:I,skipLines:L};\\nreturn Q;};Changeset.applyZip=function(I,K,H,J,G){var F=Changeset.opIterator(I,K);var E=Changeset.opIterator(H,J);\\nvar D=Changeset.smartOpAssembler();var A=Changeset.newOp();var C=Changeset.newOp();var B=Changeset.newOp();\\nwhile(A.opcode||F.hasNext()||C.opcode||E.hasNext()){if((!A.opcode)&&F.hasNext()){F.next(A);}if((!C.opcode)&&E.hasNext()){E.next(C);\\n}G(A,C,B);if(B.opcode){D.append(B);B.opcode="";}}D.endDocument();return D.toString();};Changeset.unpack=function(B){var G=/Z:([0-9a-z]+)([>\\x3c])([0-9a-z]+)|/;\\nvar A=G.exec(B);if((!A)||(!A[0])){Changeset.error("Not a changeset: "+B);}var D=Changeset.parseNum(A[1]);\\nvar E=(A[2]==">")?1:-1;var H=Changeset.parseNum(A[3]);var F=D+E*H;var I=A[0].length;var C=B.indexOf("$");\\nif(C\\x3c0){C=B.length;}return{oldLen:D,newLen:F,ops:B.substring(I,C),charBank:B.substring(C+1)};};Changeset.pack=function(C,G,F,D){var A=G-C;\\nvar E=(A>=0?">"+Changeset.numToString(A):"\\x3c"+Changeset.numToString(-A));var B=[];B.push("Z:",Changeset.numToString(C),E,F,"$",D);\\nreturn B.join("");};Changeset.applyToText=function(H,E){var C=Changeset.unpack(H);Changeset.assert(E.length==C.oldLen,"mismatched apply: ",E.length," / ",C.oldLen);\\nvar F=Changeset.opIterator(C.ops);var G=Changeset.stringIterator(C.charBank);var B=Changeset.stringIterator(E);\\nvar A=Changeset.stringAssembler();while(F.hasNext()){var D=F.next();switch(D.opcode){case"+":A.append(G.take(D.chars));\\nbreak;case"-":B.skip(D.chars);break;case"=":A.append(B.take(D.chars));break;}}A.append(B.take(B.remaining()));\\nreturn A.toString();};Changeset.mutateTextLines=function(G,F){var C=Changeset.unpack(G);var D=Changeset.opIterator(C.ops);\\nvar E=Changeset.stringIterator(C.charBank);var B=Changeset.textLinesMutator(F);while(D.hasNext()){var A=D.next();\\nswitch(A.opcode){case"+":B.insert(E.take(A.chars),A.lines);break;case"-":B.remove(A.chars,A.lines);break;\\ncase"=":B.skip(A.chars,A.lines,(!!A.attribs));break;}}B.close();};Changeset.composeAttributes=function(G,F,E,D){if((!G)&&E){return F;\\n}if(!F){return G;}var A=[];G.replace(/\\\\*([0-9a-z]+)/g,function(I,H){A.push(D.getAttrib(Changeset.parseNum(H)));\\nreturn"";});F.replace(/\\\\*([0-9a-z]+)/g,function(M,L){var H=D.getAttrib(Changeset.parseNum(L));var K=false;\\nfor(var I=0;I\\x3cA.length;I++){var J=A[I];if(J[0]==H[0]){if(H[1]||E){J[1]=H[1];}else{A.splice(I,1);}K=true;\\nbreak;}}if((!K)&&(H[1]||E)){A.push(H);}return"";});A.sort();var B=Changeset.stringAssembler();for(var C=0;\\nC\\x3cA.length;C++){B.append("*");B.append(Changeset.numToString(D.putAttrib(A[C])));}return B.toString();\\n};Changeset._slicerZipperFunc=function(A,B,C,D){if(A.opcode=="-"){Changeset.copyOp(A,C);A.opcode="";}else{if(!A.opcode){Changeset.copyOp(B,C);\\nB.opcode="";}else{switch(B.opcode){case"-":if(B.chars\\x3c=A.chars){if(A.opcode=="="){C.opcode="-";C.chars=B.chars;\\nC.lines=B.lines;C.attribs="";}A.chars-=B.chars;A.lines-=B.lines;B.opcode="";if(!A.chars){A.opcode="";\\n}}else{if(A.opcode=="="){C.opcode="-";C.chars=A.chars;C.lines=A.lines;C.attribs="";}B.chars-=A.chars;\\nB.lines-=A.lines;A.opcode="";}break;case"+":Changeset.copyOp(B,C);B.opcode="";break;case"=":if(B.chars\\x3c=A.chars){C.opcode=A.opcode;\\nC.chars=B.chars;C.lines=B.lines;C.attribs=Changeset.composeAttributes(A.attribs,B.attribs,A.opcode=="=",D);\\nB.opcode="";A.chars-=B.chars;A.lines-=B.lines;if(!A.chars){A.opcode="";}}else{C.opcode=A.opcode;C.chars=A.chars;\\nC.lines=A.lines;C.attribs=Changeset.composeAttributes(A.attribs,B.attribs,A.opcode=="=",D);A.opcode="";\\nB.chars-=A.chars;B.lines-=A.lines;}break;case"":Changeset.copyOp(A,C);A.opcode="";break;}}}};Changeset.applyToAttribution=function(D,C,B){var A=Changeset.unpack(D);\\nreturn Changeset.applyZip(C,0,A.ops,0,function(F,E,G){return Changeset._slicerZipperFunc(F,E,G,B);});\\n};Changeset.mutateAttributionLines=function(N,Q,O){var I=Changeset.unpack(N);var H=Changeset.opIterator(I.ops);\\nvar M=I.charBank;var G=0;var F=Changeset.textLinesMutator(Q);var B=null;function L(){return(B&&B.hasNext())||F.hasMore();\\n}function P(R){if((!(B&&B.hasNext()))&&F.hasMore()){var S=F.removeLines(1);B=Changeset.opIterator(S);\\n}if(B&&B.hasNext()){B.next(R);}else{R.opcode="";}}var D=null;function J(R){if(!D){D=Changeset.mergingOpAssembler();\\n}D.append(R);if(R.lines>0){Changeset.assert(R.lines==1,"Can\\\'t have op.lines of ",R.lines," in attribution lines");\\nF.insert(D.toString(),1);D=null;}}var A=Changeset.newOp();var E=Changeset.newOp();var C=Changeset.newOp();\\nwhile(A.opcode||H.hasNext()||E.opcode||L()){if((!A.opcode)&&H.hasNext()){H.next(A);}if((!A.opcode)&&(!E.opcode)&&(!D)&&(!(B&&B.hasNext()))){break;\\n}else{if(A.opcode=="="&&A.lines>0&&(!A.attribs)&&(!E.opcode)&&(!D)&&(!(B&&B.hasNext()))){F.skipLines(A.lines);\\nA.opcode="";}else{if(A.opcode=="+"){if(A.lines>1){var K=M.indexOf("\\\\n",G)+1-G;Changeset.copyOp(A,C);A.chars-=K;\\nA.lines--;C.lines=1;C.chars=K;}else{Changeset.copyOp(A,C);A.opcode="";}J(C);G+=C.chars;C.opcode="";}else{if((!E.opcode)&&L()){P(E);\\n}Changeset._slicerZipperFunc(E,A,C,O);if(C.opcode){J(C);C.opcode="";}}}}}Changeset.assert(!D,"line assembler not finished");\\nF.close();};Changeset.joinAttributionLines=function(D){var C=Changeset.mergingOpAssembler();for(var A=0;\\nA\\x3cD.length;A++){var E=D[A];var B=Changeset.opIterator(E);while(B.hasNext()){C.append(B.next());}}return C.toString();\\n};Changeset.splitAttributionLines=function(J,K){var G=Changeset.opIterator(J);var C=Changeset.mergingOpAssembler();\\nvar I=[];var D=0;function E(L){C.append(L);if(L.lines>0){I.push(C.toString());C.clear();}D+=L.chars;}while(G.hasNext()){var A=G.next();\\nvar F=A.chars;var B=A.lines;while(B>1){var H=K.indexOf("\\\\n",D)+1;Changeset.assert(H>0,"newlineEnd \\x3c= 0 in splitAttributionLines");\\nA.chars=H-D;A.lines=1;E(A);F-=A.chars;B-=A.lines;}if(B==1){A.chars=F;A.lines=1;}E(A);}return I;};Changeset.splitTextLines=function(A){return A.match(/[^\\\\n]*(?:\\\\n|[^\\\\n]$)/g);\\n};Changeset.compose=function(J,H,L){var B=Changeset.unpack(J);var A=Changeset.unpack(H);var K=B.oldLen;\\nvar I=B.newLen;Changeset.assert(I==A.oldLen,"mismatched composition");var G=A.newLen;var D=Changeset.stringIterator(B.charBank);\\nvar E=Changeset.stringIterator(A.charBank);var C=Changeset.stringAssembler();var F=Changeset.applyZip(B.ops,0,A.ops,0,function(O,N,M){var Q=O.opcode;\\nvar P=N.opcode;if(Q=="+"&&P=="-"){D.skip(Math.min(O.chars,N.chars));}Changeset._slicerZipperFunc(O,N,M,L);\\nif(M.opcode=="+"){if(P=="+"){C.append(E.take(M.chars));}else{C.append(D.take(M.chars));}}});return Changeset.pack(K,G,F,C.toString());\\n};Changeset.attributeTester=function(D,B){if(!B){return C;}var A=B.putAttrib(D,true);if(A\\x3c0){return C;\\n}else{var E=new RegExp("\\\\\\\\*"+Changeset.numToString(A)+"(?!\\\\\\\\w)");return function(F){return E.test(F);\\n};}function C(F){return false;}};Changeset.identity=function(A){return Changeset.pack(A,A,"","");};Changeset.makeSplice=function(B,A,F,E,H,J){var D=B.length;\\nif(A>=D){A=D-1;}if(F>B.length-A-1){F=B.length-A-1;}var G=B.substring(A,A+F);var I=D+E.length-G.length;\\nvar C=Changeset.smartOpAssembler();C.appendOpWithText("=",B.substring(0,A));C.appendOpWithText("-",G);\\nC.appendOpWithText("+",E,H,J);C.endDocument();return Changeset.pack(D,I,C.toString(),E);};Changeset.toSplices=function(G){var F=Changeset.unpack(G);\\nvar B=[];var C=0;var E=Changeset.opIterator(F.ops);var H=Changeset.stringIterator(F.charBank);var D=false;\\nwhile(E.hasNext()){var A=E.next();if(A.opcode=="="){C+=A.chars;D=false;}else{if(!D){B.push([C,C,""]);\\nD=true;}if(A.opcode=="-"){C+=A.chars;B[B.length-1][1]+=A.chars;}else{if(A.opcode=="+"){B[B.length-1][2]+=H.take(A.chars);\\n}}}}return B;};Changeset.characterRangeFollow=function(M,N,L,K){var C=N;var A=L;var J=Changeset.toSplices(M);\\nvar H=0;for(var G=0;G\\x3cJ.length;G++){var F=J[G];var B=F[0]+H;var E=F[1]+H;var I=F[2].length;var D=I-(E-B);\\nif(B\\x3c=C&&E>=A){if(K){C=A=B;}else{C=A=B+I;}}else{if(E\\x3c=C){C+=D;A+=D;}else{if(B>=A){}else{if(B>=C&&E\\x3c=A){A+=D;\\n}else{if(E\\x3cA){C=B+I;A+=D;}else{A=B;}}}}}H+=D;}return[C,A];};Changeset.moveOpsToNewPool=function(A,F,C){var B=A.indexOf("$");\\nif(B\\x3c0){B=A.length;}var D=A.substring(0,B);var E=A.substring(B);return D.replace(/\\\\*([0-9a-z]+)/g,function(K,G){var H=Changeset.parseNum(G);\\nvar J=F.getAttrib(H);var I=C.putAttrib(J);return"*"+Changeset.numToString(I);})+E;};Changeset.makeAttribution=function(B){var A=Changeset.smartOpAssembler();\\nA.appendOpWithText("+",B);return A.toString();};Changeset.eachAttribNumber=function(A,D){var B=A.indexOf("$");\\nif(B\\x3c0){B=A.length;}var C=A.substring(0,B);C.replace(/\\\\*([0-9a-z]+)/g,function(F,E){D(Changeset.parseNum(E));\\nreturn"";});};Changeset.filterAttribNumbers=function(B,A){return Changeset.mapAttribNumbers(B,A);};Changeset.mapAttribNumbers=function(A,E){var B=A.indexOf("$");\\nif(B\\x3c0){B=A.length;}var D=A.substring(0,B);var C=D.replace(/\\\\*([0-9a-z]+)/g,function(H,G){var F=E(Changeset.parseNum(G));\\nif(F===true){return H;}else{if((typeof F)==="number"){return"*"+Changeset.numToString(F);}else{return"";\\n}}});return C+A.substring(B);};Changeset.makeAText=function(A,B){return{text:A,attribs:(B||Changeset.makeAttribution(A))};\\n};Changeset.applyToAText=function(A,B,C){return{text:Changeset.applyToText(A,B.text),attribs:Changeset.applyToAttribution(A,B.attribs,C)};\\n};Changeset.cloneAText=function(A){return{text:A.text,attribs:A.attribs};};Changeset.copyAText=function(A,B){B.text=A.text;\\nB.attribs=A.attribs;};Changeset.appendATextToAssembler=function(C,B){var D=Changeset.opIterator(C.attribs);\\nvar A=Changeset.newOp();while(D.hasNext()){D.next(A);if(!D.hasNext()){if(A.lines\\x3c=1){A.lines=0;A.chars--;\\nif(A.chars){B.append(A);}}else{var F=C.text.lastIndexOf("\\\\n",C.text.length-2)+1;var E=C.text.length-F-1;\\nA.lines--;A.chars-=(E+1);B.append(A);A.lines=0;A.chars=E;if(A.chars){B.append(A);}}}else{B.append(A);\\n}}};Changeset.prepareForWire=function(C,B){var A=new AttribPool();var D=Changeset.moveOpsToNewPool(C,B,A);\\nreturn{translated:D,pool:A};};Changeset.isIdentity=function(B){var A=Changeset.unpack(B);return A.ops==""&&A.oldLen==A.newLen;\\n};Changeset.opAttributeValue=function(C,B,A){return Changeset.attribsAttributeValue(C.attribs,B,A);};\\nChangeset.attribsAttributeValue=function(C,D,A){var B="";if(C){Changeset.eachAttribNumber(C,function(E){if(A.getAttribKey(E)==D){B=A.getAttribValue(E);\\n}});}return B;};Changeset.builder=function(D){var B=Changeset.smartOpAssembler();var A=Changeset.newOp();\\nvar E=Changeset.stringAssembler();var C={keep:function(I,G,F,H){A.opcode="=";A.attribs=(F&&Changeset.makeAttribsString("=",F,H))||"";\\nA.chars=I;A.lines=(G||0);B.append(A);return C;},keepText:function(H,G,F){B.appendOpWithText("=",H,G,F);\\nreturn C;},insert:function(F,H,G){B.appendOpWithText("+",F,H,G);E.append(F);return C;},remove:function(G,F){A.opcode="-";\\nA.attribs="";A.chars=G;A.lines=(F||0);B.append(A);return C;},toString:function(){B.endDocument();var F=D+B.getLengthChange();\\nreturn Changeset.pack(D,F,B.toString(),E.toString());}};return C;};Changeset.makeAttribsString=function(E,A,D){if(!A){return"";\\n}else{if((typeof A)=="string"){return A;}else{if(D&&A&&A.length){if(A.length>1){A=A.slice();A.sort();\\n}var C=[];for(var B=0;B\\x3cA.length;B++){var F=A[B];if(E=="="||(E=="+"&&F[1])){C.push("*"+Changeset.numToString(D.putAttrib(F)));\\n}}return C.join("");}}}};Changeset.subattribution=function(I,F,H){var E=Changeset.opIterator(I,0);var D=Changeset.smartOpAssembler();\\nvar A=Changeset.newOp();var B=Changeset.newOp();var C=Changeset.newOp();function G(){if(B.chars){while(B.opcode&&(A.opcode||E.hasNext())){if(!A.opcode){E.next(A);\\n}if(B.opcode&&A.opcode&&B.chars>=A.chars&&A.lines>0&&B.lines\\x3c=0){B.lines++;}Changeset._slicerZipperFunc(A,B,C,null);\\nif(C.opcode){D.append(C);C.opcode="";}}}}B.opcode="-";B.chars=F;G();if(H===undefined){if(A.opcode){D.append(A);\\n}while(E.hasNext()){E.next(A);D.append(A);}}else{B.opcode="=";B.chars=H-F;G();}return D.toString();};\\nChangeset.inverse=function(U,F,G,J){function P(a){if(F.get){return F.get(a);}else{return F[a];}}function Z(){if((typeof F.length)=="number"){return F.length;\\n}else{return F.length();}}function Q(a){if(G.get){return G.get(a);}else{return G[a];}}function Y(){if((typeof G.length)=="number"){return G.length;\\n}else{return G.length();}}var C=0;var E=0;var D=null;var I;var A=Changeset.newOp("+");var R=Changeset.unpack(U);\\nvar N=Changeset.opIterator(R.ops);var H=Changeset.builder(R.newLen);function M(c,e){if((!D)||(I!=C)){D=Changeset.opIterator(Q(C));\\nI=C;var b=0;var d=false;while(!d){D.next(A);if(b+A.chars>=E){A.chars-=(E-b);d=true;}else{b+=A.chars;}}}while(c>0){if((!A.chars)&&(!D.hasNext())){C++;\\nE=0;I=C;A.chars=0;D=Changeset.opIterator(Q(C));}if(!A.chars){D.next(A);}var a=Math.min(c,A.chars);e(a,A.attribs,a==A.chars&&A.lines>0);\\nc-=a;A.chars-=a;E+=a;}if((!A.chars)&&(!D.hasNext())){C++;E=0;}}function X(b,a){if(a){C+=a;E=0;}else{if(D&&I==C){M(b,function(){});\\n}else{E+=b;}}}function S(e){var a=0;var b=Changeset.stringAssembler();var c=P(C).substring(E);a+=c.length;\\nb.append(c);var f=C+1;while(a\\x3ce){var d=P(f);a+=d.length;b.append(d);f++;}return b.toString().substring(0,e);\\n}function W(b){var a={};return function(c){if(!a[c]){a[c]=b(c);}return a[c];};}var K=[];var L=[];while(N.hasNext()){var B=N.next();\\nif(B.opcode=="="){if(B.attribs){K.length=0;L.length=0;Changeset.eachAttribNumber(B.attribs,function(a){K.push(J.getAttribKey(a));\\nL.push(J.getAttribValue(a));});var T=W(function(f){var d=[];for(var a=0;a\\x3cK.length;a++){var c=K[a];var e=L[a];\\nvar b=Changeset.attribsAttributeValue(f,c,J);if(e!=b){d.push([c,b]);}}return Changeset.makeAttribsString("=",d,J);\\n});M(B.chars,function(a,c,b){H.keep(a,b?1:0,T(c));});}else{X(B.chars,B.lines);H.keep(B.chars,B.lines);\\n}}else{if(B.opcode=="+"){H.remove(B.chars,B.lines);}else{if(B.opcode=="-"){var V=S(B.chars);var O=0;M(B.chars,function(a,b,c){H.insert(V.substr(O,a),b);\\nO+=a;});}}}}return Changeset.checkRep(H.toString());};Changeset.follow=function(N,L,K,G){var C=Changeset.unpack(N);\\nvar B=Changeset.unpack(L);var O=C.oldLen;var M=B.oldLen;Changeset.assert(O==M,"mismatched follow");var I=Changeset.stringIterator(C.charBank);\\nvar H=Changeset.stringIterator(B.charBank);var F=C.newLen;var D=0;var A=0;var E=Changeset.attributeTester(["insertorder","first"],G);\\nvar J=Changeset.applyZip(C.ops,0,B.ops,0,function(Q,P,R){if(Q.opcode=="+"||P.opcode=="+"){var S;if(P.opcode!="+"){S=1;\\n}else{if(Q.opcode!="+"){S=2;}else{var V=I.peek(1);var T=H.peek(1);var W=E(Q.attribs);var U=E(P.attribs);\\nif(W&&!U){S=1;}else{if(U&&!W){S=2;}else{if(V=="\\\\n"&&T!="\\\\n"){S=2;}else{if(V!="\\\\n"&&T=="\\\\n"){S=1;}else{if(K){S=2;\\n}else{S=1;}}}}}}}if(S==1){I.skip(Q.chars);R.opcode="=";R.lines=Q.lines;R.chars=Q.chars;R.attribs="";Q.opcode="";\\n}else{H.skip(P.chars);Changeset.copyOp(P,R);P.opcode="";}}else{if(Q.opcode=="-"){if(!P.opcode){Q.opcode="";\\n}else{if(Q.chars\\x3c=P.chars){P.chars-=Q.chars;P.lines-=Q.lines;Q.opcode="";if(!P.chars){P.opcode="";}}else{Q.chars-=P.chars;\\nQ.lines-=P.lines;P.opcode="";}}}else{if(P.opcode=="-"){Changeset.copyOp(P,R);if(!Q.opcode){P.opcode="";\\n}else{if(P.chars\\x3c=Q.chars){Q.chars-=P.chars;Q.lines-=P.lines;P.opcode="";if(!Q.chars){Q.opcode="";}}else{R.lines=Q.lines;\\nR.chars=Q.chars;P.lines-=Q.lines;P.chars-=Q.chars;Q.opcode="";}}}else{if(!Q.opcode){Changeset.copyOp(P,R);\\nP.opcode="";}else{if(!P.opcode){Changeset.copyOp(Q,R);Q.opcode="";}else{R.opcode="=";R.attribs=Changeset.followAttributes(Q.attribs,P.attribs,G);\\nif(Q.chars\\x3c=P.chars){R.chars=Q.chars;R.lines=Q.lines;P.chars-=Q.chars;P.lines-=Q.lines;Q.opcode="";if(!P.chars){P.opcode="";\\n}}else{R.chars=P.chars;R.lines=P.lines;Q.chars-=P.chars;Q.lines-=P.lines;P.opcode="";}}}}}}switch(R.opcode){case"=":D+=R.chars;\\nA+=R.chars;break;case"-":D+=R.chars;break;case"+":A+=R.chars;break;}});A+=F-D;return Changeset.pack(F,A,J,B.charBank);\\n};Changeset.followAttributes=function(F,E,B){if((!E)||(!B)){return"";}if(!F){return E;}var A=[];E.replace(/\\\\*([0-9a-z]+)/g,function(H,G){A.push(B.getAttrib(Changeset.parseNum(G)));\\nreturn"";});F.replace(/\\\\*([0-9a-z]+)/g,function(K,J){var I=B.getAttrib(Changeset.parseNum(J));for(var G=0;\\nG\\x3cA.length;G++){var H=A[G];if(I[0]==H[0]){if(I[1]\\x3c=H[1]){A.splice(G,1);}break;}}return"";});var C=Changeset.stringAssembler();\\nfor(var D=0;D\\x3cA.length;D++){C.append("*");C.append(Changeset.numToString(B.putAttrib(A[D])));}return C.toString();\\n};function makeCSSManager(I){function E(N){var M=document.styleSheets;for(var K=0;K\\x3cM.length;K++){var L=M[K];\\nif(L.title==N){return L;}}return null;}var A=E(I);function C(){return(A.cssRules||A.rules);}function H(K){if(A.deleteRule){A.deleteRule(K);\\n}else{A.removeRule(K);}}function F(L,K){if(A.insertRule){A.insertRule(K+" {}",L);}else{A.addRule(K,null,L);\\n}}var B=[];function D(L){for(var K=0;K\\x3cB.length;K++){if(B[K]==L){return K;}}return -1;}function G(K){var L=D(K);\\nif(L\\x3c0){F(0,K);B.splice(0,0,K);L=0;}return C().item(L).style;}function J(L){var K=D(L);if(K>=0){H(K);\\nB.splice(K,1);}}return{selectorStyle:G,removeSelectorStyle:J,info:function(){return B.length+":"+C().length;\\n}};}var colorutils={};colorutils.css2triple=function(C){var B=colorutils.css2sixhex(C);function A(D){return Number("0x"+D)/255;\\n}return[A(B.substr(0,2)),A(B.substr(2,2)),A(B.substr(4,2))];};colorutils.css2sixhex=function(E){var A=/[0-9a-fA-F]+/.exec(E)[0];\\nif(A.length!=6){var C=A.charAt(0);var B=A.charAt(1);var D=A.charAt(2);A=C+C+B+B+D+D;}return A;};colorutils.triple2css=function(B){function A(D){var C=colorutils.clamp(Math.round(D*255),0,255);\\nreturn("0"+C.toString(16)).slice(-2);}return"#"+A(B[0])+A(B[1])+A(B[2]);};colorutils.clamp=function(A,C,B){return A\\x3cC?C:(A>B?B:A);\\n};colorutils.min3=function(C,B,A){return(C\\x3cB)?(C\\x3cA?C:A):(B\\x3cA?B:A);};colorutils.max3=function(C,B,A){return(C>B)?(C>A?C:A):(B>A?B:A);\\n};colorutils.colorMin=function(A){return colorutils.min3(A[0],A[1],A[2]);};colorutils.colorMax=function(A){return colorutils.max3(A[0],A[1],A[2]);\\n};colorutils.scale=function(B,A,C){return colorutils.clamp(A+B*(C-A),0,1);};colorutils.unscale=function(B,A,C){return colorutils.clamp((B-A)/(C-A),0,1);\\n};colorutils.scaleColor=function(C,B,A){return[colorutils.scale(C[0],B,A),colorutils.scale(C[1],B,A),colorutils.scale(C[2],B,A)];\\n};colorutils.unscaleColor=function(C,B,A){return[colorutils.unscale(C[0],B,A),colorutils.unscale(C[1],B,A),colorutils.unscale(C[2],B,A)];\\n};colorutils.luminosity=function(A){return A[0]*0.3+A[1]*0.59+A[2]*0.11;};colorutils.saturate=function(A){var C=colorutils.colorMin(A);\\nvar B=colorutils.colorMax(A);if(B-C\\x3c=0){return[1,1,1];}return colorutils.unscaleColor(A,C,B);};colorutils.blend=function(C,B,A){return[colorutils.scale(A,C[0],B[0]),colorutils.scale(A,C[1],B[1]),colorutils.scale(A,C[2],B[2])];\\n};undoModule=(function(){var A=(function(){var M=[];var O=0;var Q="undoableEvent";var N="externalChange";\\nfunction P(){M.length=0;M.push({elementType:Q,eventType:"bottom"});O=1;}P();function T(Y){var X=extend({},Y);\\nX.elementType=Q;M.push(X);O++;}function U(Y){var X=M.length-1;if(M[X].elementType==N){M[X].changeset=Changeset.compose(M[X].changeset,Y,D());\\n}else{M.push({elementType:N,changeset:Y});}}function R(e){var c=M.length-1-e;var X=M.length-1;while(X>c||M[X].elementType==N){if(M[X].elementType==N){var Z=M[X];\\nvar Y=M[X-1];if(Y.backset){var b=Z.changeset;var d=Y.backset;Y.backset=Changeset.follow(b,Y.backset,false,D());\\nZ.changeset=Changeset.follow(d,Z.changeset,true,D());if((typeof Y.selStart)=="number"){var a=Changeset.characterRangeFollow(b,Y.selStart,Y.selEnd);\\nY.selStart=a[0];Y.selEnd=a[1];if(Y.selStart==Y.selEnd){Y.selFocusAtStart=false;}}}M[X-1]=Z;M[X]=Y;if(X>=2&&M[X-2].elementType==N){Z.changeset=Changeset.compose(M[X-2].changeset,Z.changeset,D());\\nM.splice(X-2,1);X--;}}else{X--;}}}function W(X){R(X);return M[M.length-1-X];}function V(){return O;}function S(){R(0);\\nO--;return M.pop();}return{numEvents:V,popEvent:S,pushEvent:T,pushExternalChange:U,clearStack:P,getNthFromTop:W};\\n})();var B=0;function J(){A.clearStack();B=0;}function H(O,P){var M=0;var N=0;while(M>=0&&M\\x3cO.length){M=O.indexOf(P,M);\\nif(M>=0){N++;M++;}}return N;}function C(M,N){return H(Changeset.unpack(M).ops,N);}function K(N,M){if(!N){return M;\\n}if(!M){return N;}var U=C(N,"+");var T=C(M,"+");var R=C(N,"-");var Q=C(M,"-");if(U==1&&T==1&&R==0&&Q==0){var O=Changeset.compose(N,M,D());\\nvar S=C(O,"+");var P=C(O,"-");if(S==1&&P==0){return O;}}else{if(U==0&&T==0&&R==1&&Q==1){var O=Changeset.compose(N,M,D());\\nvar S=C(O,"+");var P=C(O,"-");if(S==0&&P==1){return O;}}}return null;}function I(M){var N=A.getNthFromTop(0);\\nfunction P(){if((typeof M.selStart)=="number"){N.selStart=M.selStart;N.selEnd=M.selEnd;N.selFocusAtStart=M.selFocusAtStart;\\n}}if((!M.backset)||Changeset.isIdentity(M.backset)){P();}else{var O=false;if(N.eventType==M.eventType){var Q=K(M.backset,N.backset);\\nif(Q){N.backset=Q;P();O=true;}}if(!O){A.pushEvent(M);}B=0;}}function G(M){if(M&&!Changeset.isIdentity(M)){A.pushExternalChange(M);\\n}}function E(M){if((typeof M.selStart)!="number"){return null;}else{return{selStart:M.selStart,selEnd:M.selEnd,selFocusAtStart:M.selFocusAtStart};\\n}}function F(M){if(B\\x3cA.numEvents()-1){var O=A.getNthFromTop(B);var N=A.getNthFromTop(B+1);var P=M(O.backset,E(N));\\nA.pushEvent(P);B+=2;}else{M();}}function L(M){if(B>=2){var O=A.getNthFromTop(0);var N=A.getNthFromTop(1);\\nM(O.backset,E(N));A.popEvent();B-=2;}else{M();}}function D(){return undoModule.apool;}return{clearHistory:J,reportEvent:I,reportExternalChange:G,performUndo:F,performRedo:L,enabled:true,apool:null};\\n})();var _MAX_LIST_LEVEL=8;function sanitizeUnicode(A){return A.replace(/[\\\\uffff\\\\ufffe\\\\ufeff\\\\ufdd0-\\\\ufdef\\\\ud800-\\\\udfff]/g,"?");\\n}function makeContentCollector(V,H,M,a,S){H=H||{};var J;if(typeof(plugins)!="undefined"){J=plugins;}else{J=parent.parent.plugins;\\n}var C=a||{isNodeText:function(g){return(g.nodeType==3);},nodeTagName:function(g){return g.tagName;},nodeValue:function(g){return g.nodeValue;\\n},nodeNumChildren:function(g){return g.childNodes.length;},nodeChild:function(h,g){return h.childNodes.item(g);\\n},nodeProp:function(h,g){return h[g];},nodeAttr:function(h,g){return h.getAttribute(g);},optNodeInnerHTML:function(g){return g.innerHTML;\\n}};var b={div:1,p:1,pre:1,li:1};function Q(g){return !!b[(C.nodeTagName(g)||"").toLowerCase()];}function Y(g){return sanitizeUnicode(g.replace(/[\\\\n\\\\r ]/g," ").replace(/\\\\xa0/g," ").replace(/\\\\t/g,"        "));\\n}function U(h,g){return C.nodeProp(h,"_magicdom_"+g);}var B=(function(){var g=[];var k=[];var h=null;\\nvar j=Changeset.newOp("+");var i={length:function(){return g.length;},atColumnZero:function(){return g[g.length-1]==="";\\n},startNew:function(){g.push("");i.flush(true);h=Changeset.smartOpAssembler();},textOfLine:function(l){return g[l];\\n},appendText:function(l,m){g[g.length-1]+=l;j.attribs=m;j.chars=l.length;h.append(j);},textLines:function(){return g.slice();\\n},attribLines:function(){return k;},flush:function(l){if(h){k.push(h.toString());h=null;}}};i.startNew();\\nreturn i;}());var A={};function O(g){if(!B.atColumnZero()){A.startNewLine(g);}}var P,E,D;var K=[-1,-1],I=[-1,-1];\\nvar f={div:1,p:1,pre:1};function R(g,h){if(C.nodeNumChildren(g)==0){return true;}if(C.nodeNumChildren(g)==1&&U(g,"shouldBeEmpty")&&C.optNodeInnerHTML(g)=="&nbsp;"&&!U(g,"unpasted")){if(h){var i=C.nodeChild(g,0);\\nL(i,0,h);L(i,1,h);}return true;}return false;}function G(j,i){var h=B.length()-1;var g=B.textOfLine(h).length;\\nif(g==0&&i.listType&&i.listType!="none"){g+=1;}g+=j;return[h,g];}function N(g,h,i){if(!C.isNodeText(g)){L(g,h,i);\\n}}function L(i,g,h){if(E&&i==E.node&&E.index==g){K=G(0,h);}if(D&&i==D.node&&D.index==g){I=G(0,h);}}A.incrementFlag=function(g,h){g.flags[h]=(g.flags[h]||0)+1;\\n};A.decrementFlag=function(g,h){g.flags[h]--;};A.incrementAttrib=function(g,h){if(!g.attribs[h]){g.attribs[h]=1;\\n}else{g.attribs[h]++;}F(g);};A.decrementAttrib=function(g,h){g.attribs[h]--;F(g);};function T(g,h){var i=g.listType;\\ng.listLevel=(g.listLevel||0)+1;if(h!="none"){g.listNesting=(g.listNesting||0)+1;}g.listType=h;F(g);return i;\\n}function d(g,h){g.listLevel--;if(g.listType!="none"){g.listNesting--;}g.listType=h;F(g);}function X(g,i){var h=g.author;\\ng.authorLevel=(g.authorLevel||0)+1;g.author=i;F(g);return h;}function e(g,h){g.authorLevel--;g.author=h;\\nF(g);}function F(g){var h=[];for(var i in g.attribs){if(g.attribs[i]){h.push([i,"true"]);}}if(g.authorLevel>0){var j=["author",g.author];\\nif(M.putAttrib(j,true)>=0){h.push(j);}}g.attribString=Changeset.makeAttribsString("+",h,M);}function W(g){B.appendText("*",Changeset.makeAttribsString("+",[["list",g.listType],["insertorder","first"]],M));\\n}A.startNewLine=function(g){if(g){var h=B.textOfLine(B.length()-1).length==0;if(h&&g.listType&&g.listType!="none"){W(g);\\n}}B.startNew();};A.notifySelection=function(g){if(g){P=g;E=P.startPoint;D=P.endPoint;}};A.doAttrib=function(g,h){g.localAttribs=(g.localAttribs||[]);\\ng.localAttribs.push(h);A.incrementAttrib(g,h);};A.collectContent=function(j,g){if(!g){g={flags:{},localAttribs:null,attribs:{},attribString:""};\\n}var AH=g.localAttribs;g.localAttribs=null;var AA=Q(j);var AF=R(j,g);if(AA){O(g);}var AG=B.length()-1;\\nN(j,0,g);if(C.isNodeText(j)){var l=C.nodeValue(j);var AB="";var o=0;if(l.length==0){if(E&&j==E.node){K=G(0,g);\\n}if(D&&j==D.node){I=G(0,g);}}while(l.length>0){var u=0;if(g.flags.preMode){var z=l.split("\\\\n",1)[0];u=z.length+1;\\nAB=l.substring(u);l=z;}else{}if(E&&j==E.node&&E.index-o\\x3c=l.length){K=G(E.index-o,g);}if(D&&j==D.node&&D.index-o\\x3c=l.length){I=G(D.index-o,g);\\n}var p=l;if((!g.flags.preMode)&&/^[\\\\r\\\\n]*$/.exec(l)){p="";}var w=B.textOfLine(B.length()-1).length==0;\\nif(w){p=p.replace(/^\\\\n*/,"");}if(w&&g.listType&&g.listType!="none"){W(g);}B.appendText(Y(p),g.attribString);\\no+=u;l=AB;if(l.length>0){A.startNewLine(g);}}}else{var h=(C.nodeTagName(j)||"").toLowerCase();if(h=="br"){A.startNewLine(g);\\n}else{if(h=="script"||h=="style"){}else{if(!AF){var k=C.nodeAttr(j,"style");var n=C.nodeProp(j,"className");\\nvar r=(h=="pre");if((!r)&&H.safari){r=(k&&/\\\\bwhite-space:\\\\s*pre\\\\b/i.exec(k));}if(r){A.incrementFlag(g,"preMode");\\n}var q=null;var v=null;if(V){J.callHook("collectContentPre",{cc:A,state:g,tname:h,styl:k,cls:n});if(h=="b"||(k&&/\\\\bfont-weight:\\\\s*bold\\\\b/i.exec(k))||h=="strong"){A.doAttrib(g,"bold");\\n}if(h=="i"||(k&&/\\\\bfont-style:\\\\s*italic\\\\b/i.exec(k))||h=="em"){A.doAttrib(g,"italic");}if(h=="u"||(k&&/\\\\btext-decoration:\\\\s*underline\\\\b/i.exec(k))||h=="ins"){A.doAttrib(g,"underline");\\n}if(h=="s"||(k&&/\\\\btext-decoration:\\\\s*line-through\\\\b/i.exec(k))||h=="del"){A.doAttrib(g,"strikethrough");\\n}if(h=="ul"){var t;var y=n&&/(?:^| )list-(bullet[12345678])\\\\b/.exec(n);t=y&&y[1]||"bullet"+String(Math.min(_MAX_LIST_LEVEL,(g.listNesting||0)+1));\\nq=(T(g,t)||"none");}else{if((h=="div"||h=="p")&&n&&n.match(/(?:^| )ace-line\\\\b/)){q=(T(g,t)||"none");}}if(S&&n){var s=n.match(/\\\\S+/g);\\nif(s&&s.length>0){for(var m=0;m\\x3cs.length;m++){var AC=s[m];var AD=S(AC);if(AD){v=(X(g,AD)||"none");break;\\n}}}}}var AE=C.nodeNumChildren(j);for(var m=0;m\\x3cAE;m++){var AC=C.nodeChild(j,m);A.collectContent(AC,g);\\n}if(V){J.callHook("collectContentPost",{cc:A,state:g,tname:h,styl:k,cls:n});}if(r){A.decrementFlag(g,"preMode");\\n}if(g.localAttribs){for(var m=0;m\\x3cg.localAttribs.length;m++){A.decrementAttrib(g,g.localAttribs[m]);}}if(q){d(g,q);\\n}if(v){e(g,v);}}}}}if(!H.msie){N(j,1,g);}if(AA){if(B.length()-1==AG){A.startNewLine(g);}else{O(g);}}if(H.msie){N(j,1,g);\\n}g.localAttribs=AH;};A.notifyNextNode=function(g){if((!g)||(Q(g)&&!R(g))){O(null);}};var c=function(){return K;\\n};var Z=function(){return I;};A.getLines=function(){return B.textLines();};A.finish=function(){B.flush();\\nvar h=B.attribLines();var g=A.getLines();g.length--;h.length--;var j=c();var k=Z();function l(){var r=2000;\\nvar v=10;var t=0;var s=0;for(var m=g.length-1;m>=0;m--){var o=g[m];var q=h[m];if(o.length>r+v){var n=[];\\nvar p=[];while(o.length>r){lengthToTake=r;n.push(o.substring(0,lengthToTake));o=o.substring(lengthToTake);\\np.push(Changeset.subattribution(q,0,lengthToTake));q=Changeset.subattribution(q,lengthToTake);}if(o.length>0){n.push(o);\\np.push(q);}function u(w){if(w[0]\\x3c0){return;}var x=w[0];var z=w[1];if(x>m){x+=(n.length-1);}else{if(x==m){var y=0;\\nwhile(z>n[y].length){z-=n[y].length;y++;}x+=y;}}w[0]=x;w[1]=z;}u(j);u(k);t++;s+=n.length;n.unshift(m,1);\\ng.splice.apply(g,n);p.unshift(m,1);h.splice.apply(h,p);}}return{linesWrapped:t,numLinesAfter:s};}var i=l();\\nreturn{selStart:j,selEnd:k,linesWrapped:i.linesWrapped,numLinesAfter:i.numLinesAfter,lines:g,lineAttribs:h};\\n};return A;}function makeChangesetTracker(K,A,J){var D=Changeset.makeAText("\\\\n");var B=null;var C=Changeset.identity(1);\\nvar F=false;var E=false;var G=null;var H=null;function L(){if(G&&H===null){H=K.setTimeout(function(){try{G();\\n}finally{H=null;}},0);}}var I;return I={isTracking:function(){return F;},setBaseText:function(M){I.setBaseAttributedText(Changeset.makeAText(M),null);\\n},setBaseAttributedText:function(M,N){J.withCallbacks("setBaseText",function(P){F=true;D=Changeset.cloneAText(M);\\nif(N){var O=(new AttribPool()).fromJsonable(N);D.attribs=Changeset.moveOpsToNewPool(D.attribs,O,A);}B=null;\\nC=Changeset.identity(M.text.length);E=true;try{P.setDocumentAttributedText(M);}finally{E=false;}});},composeUserChangeset:function(M){if(!F){return;\\n}if(E){return;}if(Changeset.isIdentity(M)){return;}C=Changeset.compose(C,M,A);L();},applyChangesToBase:function(M,O,N){if(!F){return;\\n}J.withCallbacks("applyChangesToBase",function(V){if(N){var U=(new AttribPool()).fromJsonable(N);M=Changeset.moveOpsToNewPool(M,U,A);\\n}D=Changeset.applyToAText(M,D,A);var P=M;if(B){var Q=B;B=Changeset.follow(M,Q,false,A);P=Changeset.follow(Q,M,true,A);\\n}var R=true;var S=C;C=Changeset.follow(P,S,R,A);var T=Changeset.follow(S,P,!R,A);var W=true;E=true;try{V.applyChangesetToDocument(T,W);\\n}finally{E=false;}});},prepareUserChangeset:function(){var M;if(B){M=Changeset.compose(B,C,A);}else{if(Changeset.isIdentity(C)){M=null;\\n}else{M=C;}}var N=null;if(M){B=M;C=Changeset.identity(Changeset.newLen(M));N=M;}var P=null;if(N){var O=Changeset.prepareForWire(N,A);\\nP=O.pool.toJsonable();N=O.translated;}var Q={changeset:N,apool:P};return Q;},applyPreparedChangesetToBase:function(){if(!B){throw new Error("applySubmittedChangesToBase: no submitted changes to apply");\\n}D=Changeset.applyToAText(B,D,A);B=null;},setUserChangeNotificationCallback:function(M){G=M;},hasUncommittedChanges:function(){return !!(B||(!Changeset.isIdentity(C)));\\n}};}var linestylefilter={};linestylefilter.ATTRIB_CLASSES={bold:"tag:b",italic:"tag:i",underline:"tag:u",strikethrough:"tag:s"};\\nlinestylefilter.getAuthorClassName=function(A){return"author-"+A.replace(/[^a-y0-9]/g,function(B){if(B=="."){return"-";\\n}return"z"+B.charCodeAt(0)+"z";});};linestylefilter.getLineStyleFilter=function(C,F,B,E){var A;if(typeof(plugins)!="undefined"){A=plugins;\\n}else{A=parent.parent.plugins;}if(C==0){return B;}var D=B;var G=(function(){var O=C;var M=0;var K;var H;\\nfunction Q(S){var R="";Changeset.eachAttribNumber(S,function(V){var T=E.getAttribKey(V);if(T){var U=E.getAttribValue(V);\\nif(U){if(T=="author"){R+=" "+linestylefilter.getAuthorClassName(U);}else{if(T=="list"){R+=" list:"+U;\\n}else{if(linestylefilter.ATTRIB_CLASSES[T]){R+=" "+linestylefilter.ATTRIB_CLASSES[T];}else{R+=A.callHookStr("aceAttribsToClasses",{linestylefilter:linestylefilter,key:T,value:U}," "," ","");\\n}}}}}});return R.substring(1);}var P=Changeset.opIterator(F);var I,J;function L(){I=P.next();J=(I.opcode&&Q(I.attribs));\\n}L();function N(){if(M\\x3cO){K=J;H=I.chars;L();while(I.opcode&&J==K){H+=I.chars;L();}}}N();return function(R,T){while(R.length>0){if(H\\x3c=0){return D(R,T);\\n}var S=R.length;if(S>H){S=H;}var U=R.substring(0,S);R=R.substring(S);D(U,(T&&T+" ")+K);M+=S;H-=S;if(H==0){N();\\n}}};})();return G;};linestylefilter.getAtSignSplitterFilter=function(E,C){var B=/@/g;B.lastIndex=0;var A=null;\\nvar D;while((D=B.exec(E))){if(!A){A=[];}A.push(D.index);}if(!A){return C;}return linestylefilter.textAndClassFuncSplitter(C,A);\\n};linestylefilter.getRegexpFilter=function(A,B){return function(K,H){A.lastIndex=0;var C=null;var E=null;\\nvar D;while((D=A.exec(K))){if(!C){C=[];E=[];}var F=D.index;var G=D[0];C.push([F,G]);E.push(F,F+G.length);\\n}if(!C){return H;}function I(N){for(var M=0;M\\x3cC.length;M++){var L=C[M];if(N>=L[0]&&N\\x3cL[0]+L[1].length){return L[1];\\n}}return false;}var J=(function(){var L=0;return function(M,P){var Q=M.length;var N=P;var O=I(L);if(O){N+=" "+B+":"+O;\\n}H(M,N);L+=Q;};})();return linestylefilter.textAndClassFuncSplitter(J,E);};};linestylefilter.REGEX_WORDCHAR=/[\\\\u0030-\\\\u0039\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u00FF\\\\u0100-\\\\u1FFF\\\\u3040-\\\\u9FFF\\\\uF900-\\\\uFDFF\\\\uFE70-\\\\uFEFE\\\\uFF10-\\\\uFF19\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFDC]/;\\nlinestylefilter.REGEX_URLCHAR=new RegExp("("+/[-:@a-zA-Z0-9_.,~%+\\\\\\x2f\\\\\\\\?=&#;()$]/.source+"|"+linestylefilter.REGEX_WORDCHAR.source+")");\\nlinestylefilter.REGEX_URL=new RegExp(/(?:(?:https?|s?ftp|ftps|file|smb|afp|nfs|(x-)?man|gopher|txmt):\\\\\\x2f\\\\\\x2f|mailto:)/.source+linestylefilter.REGEX_URLCHAR.source+"*(?![:.,;])"+linestylefilter.REGEX_URLCHAR.source,"g");\\nlinestylefilter.getURLFilter=linestylefilter.getRegexpFilter(linestylefilter.REGEX_URL,"url");linestylefilter.textAndClassFuncSplitter=function(D,B){var A=0;\\nvar C=0;while(B&&A\\x3cB.length&&B[A]==0){A++;}function E(F,H){if((!B)||A>=B.length){D(F,H);C+=F.length;}else{var J=B;\\nvar G=J[A]-C;var I=F.length;if(G>=I){D(F,H);C+=F.length;if(G==I){A++;}}else{if(G>0){D(F.substring(0,G),H);\\nC+=G;}A++;E(F.substring(G),H);}}}return E;};linestylefilter.getFilterStack=function(B,E,D){var A=linestylefilter.getURLFilter(B,E);\\nvar C;if(typeof(plugins)!="undefined"){C=plugins;}else{C=parent.parent.plugins;}var F=C.callHook("aceGetFilterStack",{linestylefilter:linestylefilter,browser:D});\\nF.map(function(G){A=G(B,A);});if(D!==undefined&&D.msie){A=linestylefilter.getAtSignSplitterFilter(B,A);\\n}return A;};linestylefilter.populateDomLine=function(F,D,E,G){var A=F;if(A.slice(-1)=="\\\\n"){A=A.substring(0,A.length-1);\\n}function C(H,I){G.appendSpan(H,I);}var B=linestylefilter.getFilterStack(A,C);B=linestylefilter.getLineStyleFilter(A.length,D,B,E);\\nB(A,"");};var domline={};domline.noop=function(){};domline.identity=function(A){return A;};domline.addToLineClass=function(A,B){B.replace(/\\\\S+/g,function(C){if(C.indexOf("line:")==0){A=(A?A+" ":"")+C.substring(5);\\n}});return A;};domline.createDomLine=function(N,H,J,O){var A={node:null,appendSpan:domline.noop,prepareForAdd:domline.noop,notifyAdded:domline.noop,clearSpans:domline.noop,finishUpdate:domline.noop,lineMarker:0};\\nvar M=(J||{});var G=O;if(G){A.node=G.createElement("div");}else{A.node={innerHTML:"",className:""};}var D=[];\\nvar F,E;var C=null;function K(R){return domline.processSpaces(R,H);}var L=domline.identity;var Q=(H?L:K);\\nvar P=(H?K:L);var B="ace-line";A.appendSpan=function(W,R){if(R.indexOf("list")>=0){var V=/(?:^| )list:(\\\\S+)/.exec(R);\\nif(V){V=V[1];if(V){F=\\\'\\x3cul class="list-\\\'+V+\\\'">\\x3cli>\\\';E="\\x3c/li>\\x3c/ul>";}A.lineMarker+=W.length;return;}}var X=null;\\nvar S=null;if(R.indexOf("url")>=0){R=R.replace(/(^| )url:(\\\\S+)/g,function(b,a,Z){X=Z;return a+"url";});\\n}if(R.indexOf("tag")>=0){R=R.replace(/(^| )tag:(\\\\S+)/g,function(b,a,Z){if(!S){S=[];}S.push(Z.toLowerCase());\\nreturn a+Z;});}var T="";var U="";var Y;if(typeof(plugins)!="undefined"){Y=plugins;}else{Y=parent.parent.plugins;\\n}Y.callHook("aceCreateDomLine",{domline:domline,cls:R}).map(function(Z){R=Z.cls;T=T+Z.extraOpenTags;U=Z.extraCloseTags+U;\\n});if((!W)&&R){B=domline.addToLineClass(B,R);}else{if(W){if(X){T=T+\\\'\\x3ca href="\\\'+X.replace(/\\\\"/g,"&quot;")+\\\'">\\\';\\nU="\\x3c/a>"+U;}if(S){S.sort();T=T+"\\x3c"+S.join(">\\x3c")+">";S.reverse();U="\\x3c/"+S.join(">\\x3c/")+">"+U;}D.push(\\\'\\x3cspan class="\\\',R||"",\\\'">\\\',T,Q(domline.escapeHTML(W)),U,"\\x3c/span>");\\n}}};A.clearSpans=function(){D=[];B="";A.lineMarker=0;};function I(){var R=P(D.join(""));if(!R){if((!G)||(!J)){R+="&nbsp;";\\n}else{if(!M.msie){R+="\\x3cbr/>";}}}if(N){R=(F||"")+R+(E||"");}D=F=E=null;if(R!==C){C=R;A.node.innerHTML=C;\\n}if(B!==null){A.node.className=B;}}A.prepareForAdd=I;A.finishUpdate=I;A.getInnerHTML=function(){return C||"";\\n};return A;};domline.escapeHTML=function(B){var A=/[&\\x3c>\\\'"]/g;/\\\']/;if(!A.MAP){A.MAP={"&":"&amp;","\\x3c":"&lt;",">":"&gt;",\\\'"\\\':"&#34;","\\\'":"&#39;"};\\n}return B.replace(A,function(C){return A.MAP[C];});};domline.processSpaces=function(F,G){if(F.indexOf("\\x3c")\\x3c0&&!G){return F.replace(/ /g,"&nbsp;");\\n}var B=[];F.replace(/\\x3c[^>]*>?| |[^ \\x3c]+/g,function(H){B.push(H);});if(G){var D=true;var E=false;for(var A=B.length-1;\\nA>=0;A--){var C=B[A];if(C==" "){if(D||E){B[A]="&nbsp;";}D=false;E=true;}else{if(C.charAt(0)!="\\x3c"){D=false;\\nE=false;}}}for(var A=0;A\\x3cB.length;A++){var C=B[A];if(C==" "){B[A]="&nbsp;";break;}else{if(C.charAt(0)!="\\x3c"){break;\\n}}}}else{for(var A=0;A\\x3cB.length;A++){var C=B[A];if(C==" "){B[A]="&nbsp;";}}}return B.join("");};\'+\'//-->\\n\\x3c/script>\')'));
T.push(('(\'\\x3cscript type="text/javascript">//<!--\\n\'+\'function OUTER(Ck){var AK=false;var B4=false;var Ad="    ";var BW=8;var BO=4;var CD=4;var Ah=20;var Bj=8;\\nvar BS=8;var BU=[];var e="";var BL=false;var C=parent.editorInfo;var f=window.frameElement;var F=f.ace_outerWin;\\nf.ace_outerWin=null;var W=f.nextSibling;var u=W.nextSibling;var Cc=u.nextSibling;BX();var At=function(i){};\\nvar Ar=function(i){return true;};var An=function(){};var A={lines:newSkipList(),selStart:null,selEnd:null,selFocusAtStart:false,alltext:"",alines:[],apool:new AttribPool()};\\nif(undoModule.enabled){undoModule.apool=A.apool;}var B,E;var j=true;var K=true;var AP=true;var AX=true;\\nvar o=Ah+BO+BS;var Aj=Bj;var Bo=0,CR=0;var V=(AK&&top.console);if(!V){var Al=["log","debug","info","warn","error","assert","dir","dirxml","group","groupEnd","time","timeEnd","count","trace","profile","profileEnd"];\\nV={};for(var Ag=0;Ag\\x3cAl.length;++Ag){V[Al[Ag]]=function(){};}}var Q=window.PROFILER;if(!Q){Q=function(){return{start:I,mark:I,literal:I,end:I,cancel:I};\\n};}function I(){}function Cf(i){return i;}var t=I;window.dmesg=I;var O=parent;var AQ="monospace";var s=12;\\nfunction AV(){return Math.round(s*4/3);}var Y=null;function Bi(){Y=makeCSSManager("dynamicsyntax");}var M=makeChangesetTracker(O,A.apool,{withCallbacks:function(i,Cq){T(i,function(){G(1);\\nCq({setDocumentAttributedText:function(Cr){Aa(Cr);},applyChangesetToDocument:function(Ct,Cs){var Cr=D.editEvent.eventType;\\nD.startNewEvent("nonundoable");c(Ct,Cs);D.startNewEvent(Cr);}});});}});var Ao={};function CW(i,Cq){if((typeof i)!="string"){throw new Error("setAuthorInfo: author ("+i+") is not a string");\\n}if(!Cq){delete Ao[i];if(Y){Y.removeSelectorStyle(Au(BP(i)));}}else{Ao[i]=Cq;if(Cq.bgcolor){if(Y){var Cr=Cq.bgcolor;\\nif((typeof Cq.fade)=="number"){Cr=BZ(Cr,Cq.fade);}Y.selectorStyle(Au(BP(i))).backgroundColor=Cr;}}}}function BP(i){return"author-"+i.replace(/[^a-y0-9]/g,function(Cq){if(Cq=="."){return"-";\\n}return"z"+Cq.charCodeAt(0)+"z";});}function Bd(i){if(i.substring(0,7)=="author-"){return i.substring(7).replace(/[a-y0-9]+|-|z.+?z/g,function(Cq){if(Cq=="-"){return".";\\n}else{if(Cq.charAt(0)=="z"){return String.fromCharCode(Number(Cq.slice(1,-1)));}else{return Cq;}}});}return null;\\n}function Au(i){return".authorColors ."+i;}function AT(){if(Y){var Cq=u.offsetHeight;var Cr=AV();var i=0;\\nvar Ct=0;if(Cq\\x3cCr){i=Math.ceil((Cr-Cq)/2);Ct=Cr-Cq-i;}var Cs=Y.selectorStyle("#innerdocbody span");Cs.paddingTop=Ct+"px";\\nCs.paddingBottom=i+"px";}}function Cj(Cq){var i=colorutils.css2triple(Cq);i=colorutils.saturate(i);i=colorutils.scaleColor(i,0,0.5/colorutils.luminosity(i));\\nreturn colorutils.triple2css(i);}function BZ(Cq,Cr){var i=colorutils.css2triple(Cq);i=colorutils.blend(i,[1,1,1],Cr);\\nreturn colorutils.triple2css(i);}function By(i){O.setTimeout(function(){alert(i);},0);}C.ace_getRep=function(){return A;\\n};var D=null;function N(Cr,Cy){if(BL){return;}if(D){V.error("Can\\\'t enter callstack "+Cr+", already in "+D.type);\\n}var Cu=false;function Cx(){Cu=true;V.profile();}function Cs(C0){return{eventType:C0,backset:null};}function Ct(C0){if(A.selStart&&A.selEnd){var C3=A.lines.offsetOfIndex(A.selStart[0])+A.selStart[1];\\nvar C2=A.lines.offsetOfIndex(A.selEnd[0])+A.selEnd[1];C0.selStart=C3;C0.selEnd=C2;C0.selFocusAtStart=A.selFocusAtStart;\\n}if(undoModule.enabled){var C1=false;try{if(C0.eventType=="setup"||C0.eventType=="importText"||C0.eventType=="setBaseText"){undoModule.clearHistory();\\n}else{if(C0.eventType=="nonundoable"){if(C0.changeset){undoModule.reportExternalChange(C0.changeset);\\n}}else{undoModule.reportEvent(C0);}}C1=true;}finally{if(!C1){undoModule.enabled=false;}}}}function Cz(C2,C1){var C0=D.editEvent;\\nif(!C1){Ct(C0);}D.editEvent=Cs(C2);return C0;}D={type:Cr,docTextChanged:false,selectionAffected:false,userChangedSelection:false,domClean:false,profileRest:Cx,isUserChange:false,repChanged:false,editEvent:Cs(Cr),startNewEvent:Cz};\\nvar Cv=false;var Cw;try{Cw=Cy();Cv=true;}catch(Cq){BU.push({error:Cq,time:+new Date()});t(Cq.toString());\\nthrow Cq;}finally{var i=D;if(Cv){Ct(i.editEvent);if(i.domClean&&i.type!="setup"){if(i.isUserChange){if(i.repChanged){AG.notifyChange();\\n}else{AG.notifyTick();}}Be.recolorLines();if(i.selectionAffected){Ba();}if((i.docTextChanged||i.userChangedSelection)&&i.type!="applyChangesToBase"){CQ();\\n}if(i.docTextChanged&&i.type.indexOf("importText")\\x3c0){An();}}}else{if(D.type=="idleWorkTimer"){H.atLeast(1000);\\n}}D=null;if(Cu){V.profileEnd();}}return Cw;}C.ace_inCallStack=N;function T(Cq,i){if(!D){N(Cq,i);}else{i();\\n}}C.ace_inCallStackIfNecessary=T;function Af(i){if(A.lines.containsKey(i)){var Cq=A.lines.offsetOfKey(i);\\nvar Cr=A.lines.atKey(i).width;AU(Cq,Cq+Cr);}}function AL(i){return A.lines.atOffset(i).key;}var Be=(function(){var i={};\\nvar Cq={};Cq.setCharNeedsRecoloring=function(Cr){if(Cr>=A.alltext.length){Cr=A.alltext.length-1;}i[AL(Cr)]=true;\\n};Cq.setCharRangeNeedsRecoloring=function(Ct,Cs){if(Ct>=A.alltext.length){Ct=A.alltext.length-1;}if(Cs>=A.alltext.length){Cs=A.alltext.length-1;\\n}var Cv=A.lines.atOffset(Ct);var Cu=A.lines.atOffset(Cs).key;i[Cu]=true;var Cr=Cv;while(Cr&&Cr.key!=Cu){i[Cr.key]=true;\\nCr=A.lines.next(Cr);}};Cq.recolorLines=function(){for(var Cr in i){Af(Cr);}i={};};return Cq;})();var AG=(function(){var i={};\\ni.notifyTick=function(){Cs(false);};i.notifyChange=function(){Cs(true);};i.shouldNormalizeOnChar=function(Cu){if(Cr.active){return true;\\n}Cu=String.fromCharCode(Cu);return !!(Cq[Cu]);};var Cr={active:false,whichChars:null,whichLineKeys:null,expireTime:null};\\nvar Cq={"(":1,")":-1,"[":2,"]":-2,"{":3,"}":-3};var Ct=/[{}\\\\[\\\\]()]/g;function Cs(C1){function C6(C9){var C8=BI();\\nvar DB=100;var DA=3000;if(C8[0]>C9-DB){C8[0]=C9-DB;}if(C8[0]\\x3cC9-DA){C8[0]=C9-DA;}if(C8[0]\\x3c0){C8[0]=0;\\n}if(C8[1]\\x3cC9+DB){C8[1]=C9+DB;}if(C8[1]>C9+DA){C8[1]=C9+DA;}if(C8[1]>A.lines.totalWidth()){C8[1]=A.lines.totalWidth();\\n}return C8;}function C7(DI,DD){var C9=C6(DI);var DG=A.alltext.substring(C9[0],C9[1]);var DH=DG.replace(Ct,"(");\\nvar C8=DI-C9[0];var DF=[];var DB=false;var DC=false;function DJ(){if(C8\\x3c0){return;}if(DD){C8++;}else{C8--;\\n}if(C8\\x3c0||C8>=DG.length){C8=-1;}if(C8>=0){if(DD){C8=DH.indexOf("(",C8);}else{C8=DH.lastIndexOf("(",C8);\\n}}}while((!DB)&&(C8>=0)){if(BH(C8+C9[0])=="p"){var DK=Cq[DG.charAt(C8)];var DE=DD;var DA=DK;if(DA\\x3c0){DE=!DE;\\nDA=-DA;}if(DE){DF.push(DA);}else{var DL=DF.pop();if(DL!=DA){DB=true;DC=false;}else{if(DF.length==0){DB=true;\\nDC=true;}}}}if((!DB)&&(C8>=0)){DJ();}}if(!DB){return null;}return{chr:(C8+C9[0]),good:DC};}var Cu=Cr;\\nvar Cv=null;var Cx=null;if(Cu.active&&(C1||(U()>Cu.expireTime))){Cx=Cu.whichLineKeys;Cu.active=false;\\n}if((!Cu.active)&&C1&&P()&&r()>0){var Cw=A6();if(Cw>0&&BH(Cw-1)=="p"){var C0=A.alltext.charAt(Cw-1);if(Cq[C0]){var C3=(Cq[C0]>0);\\nvar Cy=C7(Cw-1,C3);if(Cy){var Cz=Cy.chr;var C5=Cy.good;Cu.active=true;Cv={};Cv[Cw-1]="flash";Cv[Cz]=(C5?"flash":"flashbad");\\nCu.whichLineKeys=[];Cu.whichLineKeys.push(AL(Cw-1));Cu.whichLineKeys.push(AL(Cz));Cu.expireTime=U()+4000;\\nnewlyActive=true;}}}}if(Cx){Af(Cx[0]);Af(Cx[1]);}if(Cu.active&&Cv){function C4(C9,C8,DA,DC){var DB=Cv[DC];\\nif(C8){DA(C9,C8+" "+DB);}else{DA(C9,C8);}}for(var C2 in Cv){AU((+C2),(+C2)+1,null,C4);}}}return i;})();\\nfunction B8(){BL=true;if(H){H.never();}BF();}function BN(){return;function Cq(){throw new Error("checkALines");\\n}if(A.alines.length!=A.lines.length()){Cq();}for(var Cr=0;Cr\\x3cA.alines.length;Cr++){var Cv=A.alines[Cr];\\nvar Cw=A.lines.atIndex(Cr).text+"\\\\n";var Cx=Cw.length;var Cs=Changeset.opIterator(Cv);var Cu=0;while(Cs.hasNext()){var Ct=Cs.next();\\nCu+=Ct.chars;if(Cs.hasNext()){if(Ct.lines!=0){Cq();}}else{if(Ct.lines!=1){Cq();}}}if(Cu!=Cx){Cq();}}}function CE(i){K=i;\\nvar Cq="doesWrap";S(B,"doesWrap",K);O.setTimeout(function(){T("setWraps",function(){G(7);BY();g();});\\n},0);}function CL(i){var Cq=AX;AX=!!i;if(i!=Cq){if(!i){T("setStyled",function(){G(12);var Cr=[];for(var Cs in Ac){Cr.push([Cs,""]);\\n}AR(0,A.alltext.length,Cr);});}}}function Bv(i){AQ=i;B.style.fontFamily=AQ;u.style.fontFamily=AQ;O.setTimeout(function(){AT();\\n},0);}function Bl(i){s=i;B.style.fontSize=s+"px";B.style.lineHeight=AV()+"px";W.style.lineHeight=AV()+"px";\\nu.style.fontSize=s+"px";O.setTimeout(function(){AT();},0);}function BY(){AU(0,A.alltext.length);}function BG(i){j=i;\\nif(!j){Ay(false);}else{Ay(true);}S(B,"static",!j);}function Aw(){BG(j);}function CA(i,Ct,Cr){var Cq;if(Cr){if(i.charAt(i.length-1)!="\\\\n"){throw new Error("new raw text must end with newline");\\n}if(/[\\\\r\\\\t\\\\xa0]/.exec(i)){throw new Error("new raw text must not contain CR, tab, or nbsp");}Cq=i.substring(0,i.length-1).split("\\\\n");\\n}else{Cq=map(i.split("\\\\n"),CI);}var Cs="\\\\n";if(Cq.length>0){Cs=Cq.join("\\\\n")+"\\\\n";}T("importText"+(Ct?"Undoable":""),function(){Bb(Cs);\\n});if(Cr&&A.alltext!=i){throw new Error("mismatch error setting raw text in importText");}}function B9(i,Cq,Cs){i=Changeset.cloneAText(i);\\nif(Cq){var Cr=(new AttribPool()).fromJsonable(Cq);i.attribs=Changeset.moveOpsToNewPool(i.attribs,Cr,A.apool);\\n}T("importText"+(Cs?"Undoable":""),function(){Aa(i);});}function Aa(Cr){G(8);var Ct=A.lines.totalWidth();\\nvar Cs=A.lines.length();var Cv=A.lines.offsetOfIndex(Cs-1);var Cu=A.lines.atIndex(Cs-1).text.length;var Cq=Changeset.smartOpAssembler();\\nvar i=Changeset.newOp("-");i.chars=Cv;i.lines=Cs-1;Cq.append(i);i.chars=Cu;i.lines=0;Cq.append(i);Changeset.appendATextToAssembler(Cr,Cq);\\nvar Cw=Ct+Cq.getLengthChange();var Cx=Changeset.checkRep(Changeset.pack(Ct,Cw,Cq.toString(),Cr.text.slice(0,-1)));\\nc(Cx);d([0,A.lines.atIndex(0).lineMarker],[0,A.lines.atIndex(0).lineMarker]);H.atMost(100);if(A.alltext!=Cr.text){t(htmlPrettyEscape(A.alltext));\\nt(htmlPrettyEscape(Cr.text));throw new Error("mismatch error setting raw text in setDocAText");}}function Bb(i){Aa(Changeset.makeAText(i));\\n}function CX(){var Cq=A.alltext;var i=Cq.length;if(i>0){i--;}return Cq.substring(0,i);}function CM(){if(D&&!D.domClean){T("exportText",function(){G(2);\\n});}return CX();}function B7(){g();}function Bn(i){Ar=i;}function Bq(i){At=i;}function Bp(i){An=i;}function Bm(){if(D&&!D.domClean){T("getFormattedCode",p);\\n}var Cq=[];if(A.lines.length()>0){var i=A.lines.atIndex(0);while(i){var Cr=i.domInfo;Cq.push((Cr&&Cr.getInnerHTML())||domline.processSpaces(domline.escapeHTML(i.text),K)||"&nbsp;");\\ni=A.lines.next(i);}}return\\\'\\x3cdiv class="syntax">\\x3cdiv>\\\'+Cq.join("\\x3c/div>\\\\n\\x3cdiv>")+"\\x3c/div>\\x3c/div>";}var AZ={clearauthorship:function(i){if((!(A.selStart&&A.selEnd))||P()){if(i){i();\\n}else{AR(0,A.alltext.length,[["author",""]]);}}else{Az("author","");}},};function CS(i){i=i.toLowerCase();\\nvar Cq=Array.prototype.slice.call(arguments,1);if(AZ[i]){N(i,function(){G(9);AZ[i].apply(AZ,Cq);});}}function CB(Cr,i,Cq){N("replaceRange",function(){G(9);\\na(Cr,i,Cq);});}C.ace_focus=Bc;C.ace_importText=CA;C.ace_importAText=B9;C.ace_exportText=CM;C.ace_editorChangedSize=B7;\\nC.ace_setOnKeyPress=Bn;C.ace_setOnKeyDown=Bq;C.ace_setNotifyDirty=Bp;C.ace_dispose=B8;C.ace_getFormattedCode=Bm;\\nC.ace_setEditable=BG;C.ace_execCommand=CS;C.ace_replaceRange=CB;C.ace_callWithAce=function(Cs,Cq,Cr){var i=function(){return Cs(C);\\n};if(Cr!==undefined){var Ct=i;i=function(){C.ace_fastIncorp(9);Ct();};}if(Cq!==undefined){return C.ace_inCallStack(Cq,i);\\n}else{return i();}};C.ace_setProperty=function(Cr,i){var Cq=Cr.toLowerCase();if(Cq=="wraps"){CE(i);}else{if(Cq=="showsauthorcolors"){S(B,"authorColors",!!i);\\n}else{if(Cq=="showsuserselections"){S(B,"userSelections",!!i);}else{if(Cq=="showslinenumbers"){AP=!!i;\\nS(W,"sidedivhidden",!AP);g();}else{if(Cq=="grayedout"){S(F.document.body,"grayedout",!!i);}else{if(Cq=="dmesg"){t=i;\\nwindow.dmesg=i;}else{if(Cq=="userauthor"){e=String(i);}else{if(Cq=="styled"){CL(i);}else{if(Cq=="textface"){Bv(i);\\n}else{if(Cq=="textsize"){Bl(i);}}}}}}}}}}};C.ace_setBaseText=function(i){M.setBaseText(i);};C.ace_setBaseAttributedText=function(Cq,i){AT();\\nM.setBaseAttributedText(Cq,i);};C.ace_applyChangesToBase=function(Cr,i,Cq){M.applyChangesToBase(Cr,i,Cq);\\n};C.ace_prepareUserChangeset=function(){return M.prepareUserChangeset();};C.ace_applyPreparedChangesetToBase=function(){M.applyPreparedChangesetToBase();\\n};C.ace_setUserChangeNotificationCallback=function(i){M.setUserChangeNotificationCallback(i);};C.ace_setAuthorInfo=function(i,Cq){CW(i,Cq);\\n};C.ace_setAuthorSelectionRange=function(Cq,Cr,i){M.setAuthorSelectionRange(Cq,Cr,i);};C.ace_getUnhandledErrors=function(){return BU.slice();\\n};C.ace_getDebugProperty=function(i){if(i=="debugger"){window["eval"]("debugger");}else{if(i=="rep"){return A;\\n}else{if(i=="window"){return window;}else{if(i=="document"){return document;}}}}return undefined;};function U(){return(new Date()).getTime();\\n}function AB(Ct){var Cr=U();var Cu=0;var i=false;var Cs=false;var Cq=function(){if(i){if((!Cs)){Cs=true;\\n}return true;}var Cv=U()-Cr;if(Cv>Ct){i=true;return true;}else{Cu=Cv;return false;}};Cq.elapsed=function(){return U()-Cr;\\n};return Cq;}function Ca(Ct){var i=null;var Cq=0;function Cs(){if(i){O.clearTimeout(i);i=null;}}function Cr(Cw){Cs();\\nCq=Cw;var Cv=Cw-U();if(Cv\\x3c0){Cv=0;}i=O.setTimeout(Cu,Cv);}function Cu(){i=null;Ct();}return{atMost:function(Cw){var Cv=U()+Cw;\\nif((!i)||Cq>Cv){Cr(Cv);}},atLeast:function(Cw){var Cv=U()+Cw;if((!i)||Cq\\x3cCv){Cr(Cv);}},never:function(){Cs();\\n}};}function G(i){p(AB(0));}C.ace_fastIncorp=G;function A8(){var i=A8;var Cs=(i.failures||0);if(Cs\\x3c5){var Cr=AB(40);\\nvar Ct=p(Cr);if(Cr()){i.failures=Cs+1;}return true;}else{var Cq=(i.skipCount||0);Cq++;if(Cq==20){Cq=0;\\ni.failures=0;}i.skipCount=Cq;}return false;}var H=Ca(function(){if(!j){return;}if(q){H.atLeast(500);return;\\n}N("idleWorkTimer",function(){var i=AB(250);var Cr=false;var Cs=false;try{p(i);if(i()){return;}CO();if(i()){return;\\n}var Cu=BI();var Ct=[0,A.lines.totalWidth()];Cr=true;Cs=true;}finally{if(Cs){H.atMost(1000);}else{if(Cr){H.atMost(500);\\n}else{var Cq=Math.round(i.elapsed()/2);if(Cq\\x3c100){Cq=100;}H.atMost(Cq);}}}});});var B1=1;function L(Cq){var i=Cq.id;\\nif(i){return i;}return(Cq.id="magicdomid"+(B1++));}function AU(Cs,Cy,Ct,Cw){if(Cy\\x3c=Cs){return;}if(Cs\\x3c0||Cs>=A.lines.totalWidth()){return;\\n}var i=A.lines.atOffset(Cs);var Cq=A.lines.offsetOfEntry(i);var Cr=A.lines.indexOfEntry(i);var Cx=false;\\nvar Cz=null;var C2=null;Ct=(Ct||I);var Cv;var Cu=function(C3,C4){i.domInfo.appendSpan(C3,C4);};if(Cw){var C1=Cu;\\nCu=function(C3,C4){Cw(C3,C4,C1,Cv);Cv+=C3.length;};}while(i&&Cq\\x3cCy&&!Ct()){var C0=Cq+i.width;Cv=Cq;i.domInfo.clearSpans();\\nBJ(i,Cu,Cq);i.domInfo.finishUpdate();y(i.lineNode);if(A.selStart&&A.selStart[0]==Cr||A.selEnd&&A.selEnd[0]==Cr){Cx=true;\\n}if(Cz===null){Cz=Cr;}C2=Cr;Cq=C0;i=A.lines.next(i);Cr++;}if(Cx){D.selectionAffected=true;}}function BJ(i,Ct,Cx){var Cs=Cx;\\nif((typeof Cs)!="number"){Cs=A.lines.offsetOfEntry(i);}var Cq=i.text;var Cy=i.width;if(Cq.length==0){var Cu=linestylefilter.getLineStyleFilter(0,"",Ct,A.apool);\\nCu("","");}else{var Cz=0;var Cr=linestylefilter.getFilterStack(Cq,Ct,browser);var Cv=A.lines.indexOfEntry(i);\\nvar Cw=A.alines[Cv];Cr=linestylefilter.getLineStyleFilter(Cq.length,Cw,Cr,A.apool);Cr(Cq,"");}}function BH(i){return"";\\n}var AE;function A3(){AE={cleanNodesNearChanges:{}};}A3();function k(Cr){var i=Q("getCleanNodeByKey",false);\\ni.extra=0;var Cq=E.getElementById(Cr);while(Cq&&X(Cq)){i.extra++;Cq.id="";Cq=E.getElementById(Cr);}i.literal(i.extra,"extra");\\ni.end();return Cq;}function w(Ct){var i;var Cv;if(!X(Ct)){i=Ct;var Cu=i.previousSibling;var Cs=i.nextSibling;\\nCv=((Cu&&X(Cu))||(Cs&&X(Cs)));}else{var Cq=Ct.previousSibling;while(Cq&&X(Cq)){Cq=Cq.previousSibling;\\n}if(Cq){i=Cq;}else{var Cr=Ct.nextSibling;while(Cr&&X(Cr)){Cr=Cr.nextSibling;}if(Cr){i=Cr;}}if(!i){return;\\n}Cv=true;}if(Cv){AE.cleanNodesNearChanges["$"+L(i)]=true;}else{var Cy=L(i);var Cu=i.previousSibling;var Cs=i.nextSibling;\\nvar C2=((Cu&&L(Cu))||null);var C1=((Cs&&L(Cs))||null);var Cw=A.lines.prev(A.lines.atKey(Cy));var Cx=A.lines.next(A.lines.atKey(Cy));\\nvar C0=((Cw&&Cw.key)||null);var Cz=((Cx&&Cx.key)||null);if(C2!=C0||C1!=Cz){AE.cleanNodesNearChanges["$"+L(i)]=true;\\n}}}function Av(){if(D.observedSelection){return;}D.observedSelection=true;var Ct=Q("getSelection",false);\\nvar Cr=Ae();Ct.end();if(Cr){function Cs(Cu){if((!Cu)||Cu==B){return null;}while(Cu.parentNode!=B){Cu=Cu.parentNode;\\n}return Cu;}var Cq=Cs(Cr.startPoint.node);var i=Cs(Cr.endPoint.node);if(Cq){w(Cq);}if(i&&Cq!=i){w(i);\\n}}}function BV(){if(B.getElementsByTagName){var Cs=B.getElementsByTagName("style");for(var Cr=0;Cr\\x3cCs.length;\\nCr++){var Cq=Cs[Cr];while(Cq.parentNode&&Cq.parentNode!=B){Cq=Cq.parentNode;}if(Cq.parentNode==B){w(Cq);\\n}}}}function p(DA){if(D.domClean){return false;}q=false;D.isUserChange=true;DA=(DA||function(){return false;\\n});if(AK&&top.DONT_INCORP||window.DEBUG_DONT_INCORP){return false;}var Cr=Q("incorp",false);if(!B.firstChild){B.innerHTML="\\x3cdiv>\\x3c!-- -->\\x3c/div>";\\n}Cr.mark("obs");Av();BV();Cr.mark("dirty");var Cz=BK();var DO=true;var C6=0;var Cq,Cu;while(C6\\x3cCz.length){Cq=Cz[C6][0];\\nCu=Cz[C6][1];if(!((Cq==0||k(A.lines.atIndex(Cq-1).key))&&(Cu==A.lines.length()||k(A.lines.atIndex(Cu).key)))){DO=false;\\nbreak;}C6++;}if(!DO){var DT=B.childNodes.length;for(var C1=0;C1\\x3cDT;C1++){var C8=B.childNodes.item(C1);\\nif((C8.tagName)&&((!C8.id)||(!A.lines.containsKey(C8.id)))){w(C8);}}Cz=BK();}A3();Cr.mark("getsel");var Cw=Ae();\\nvar Ct,Cs;var DF=0;var C7=[];var C4=0;var C9=[];Cr.mark("ranges");Cr.literal(Cz.length,"numdirt");var DJ=[];\\nwhile(DF\\x3cCz.length){var DH=Cz[DF];Cq=DH[0];Cu=DH[1];var C2=(((Cq==0)&&B.firstChild)||k(A.lines.atIndex(Cq-1).key).nextSibling);\\nC2=(C2&&X(C2)&&C2);var Cv=(((Cu==A.lines.length())&&B.lastChild)||k(A.lines.atIndex(Cu).key).previousSibling);\\nCv=(Cv&&X(Cv)&&Cv);if(C2&&Cv){var C0=makeContentCollector(AX,browser,A.apool,null,Bd);C0.notifySelection(Cw);\\nvar DK=[];for(var Cy=C2;Cy&&!(Cy.previousSibling&&Cy.previousSibling==Cv);Cy=Cy.nextSibling){if(browser.msie){try{Cy.createTextRange().execCommand("unlink",false,null);\\n}catch(DS){}}C0.collectContent(Cy);DK.push(Cy);}C0.notifyNextNode(Cv.nextSibling);var Cx=C0.getLines();\\nif((Cx.length\\x3c=1||Cx[Cx.length-1]!=="")&&Cv.nextSibling){Cu++;var DG=Cv.nextSibling;C0.collectContent(DG);\\nC9.push(DG);C0.notifyNextNode(DG.nextSibling);}var C3=C0.finish();var DB=C3.selStart;var DC=C3.selEnd;\\nCx=C3.lines;var DQ=C3.lineAttribs;var DD=C3.linesWrapped;if(DD>0){By("Editor warning: "+DD+" long line"+(DD==1?" was":"s were")+" hard-wrapped into "+C3.numLinesAfter+" lines.");\\n}if(DB[0]>=0){Ct=[DB[0]+Cq+C4,DB[1]];}if(DC[0]>=0){Cs=[DC[0]+Cq+C4,DC[1]];}var DM=[];var DP=Cv;var DI=new Array(Cx.length);\\nfor(var C1=0;C1\\x3cCx.length;C1++){var DR=Cx[C1];var DL=AN(DR);DM.push(DL);DI[C1]=DL.domInfo;}DJ.push([DP,DI]);\\nforEach(DK,function(i){C9.push(i);});var DE={};if(Ct){DE.selStart=Ct;}if(Cs){DE.selEnd=Cs;}C7.push([Cq+C4,Cu-Cq,DM,DQ,DE]);\\nC4+=(Cx.length-(Cu-Cq));}else{if(Cu>Cq){C7.push([Cq+C4,Cu-Cq,[],[]]);}}DF++;}var DN=(C7.length>0);Cr.mark("splice");\\nforEach(C7,function(i){CJ(i[0],i[1],i[2],i[3],i[4]);});Cr.mark("insert");forEach(DJ,function(i){AH(i[0],i[1],DA);\\n});Cr.mark("del");forEach(C9,function(i){i.parentNode.removeChild(i);});Cr.mark("findsel");if(Cw&&!Ct){Ct=Aq(Cw.startPoint);\\n}if(Cw&&!Cs){Cs=Aq(Cw.endPoint);}var C5=A.lines.length();if(Ct&&Ct[0]>=C5){Ct[0]=C5-1;Ct[1]=A.lines.atIndex(Ct[0]).text.length;\\n}if(Cs&&Cs[0]>=C5){Cs[0]=C5-1;Cs[1]=A.lines.atIndex(Cs[0]).text.length;}Cr.mark("repsel");if(Cw){BR(Ct,Cs,Cw&&Cw.focusAtStart);\\n}Cr.mark("browsel");if(Cw&&(DN||P())){D.selectionAffected=true;}D.domClean=true;Cr.mark("fixview");g();\\nCr.end("END");return DN;}function Cd(Cq){var i=E.createElement("DIV");i.appendChild(Cq);return i.innerHTML;\\n}var Ac={bold:true,italic:true,underline:true,strikethrough:true,list:true};var CG={insertorder:true,author:true};\\nfunction A0(i){return !!Ac[i];}function Cl(i){return(!!Ac[i])||(!!CG[i]);}function AH(Cr,i,Cs){Cs=(Cs||function(){return false;\\n});var Cq;var Ct;if(i.length\\x3c1){return;}var Cv=A.lines.atKey(L(i[0].node));var Cu=A.lines.atKey(L(i[i.length-1].node));\\nvar Cw=A.lines.offsetOfEntry(Cv);var Cx=A.lines.offsetOfEntry(Cu)+Cu.width;forEach(i,function(C1){var Cy=Q("insertLine",false);\\nvar C0=C1.node;var C2=L(C0);var Cz;Cy.mark("findEntry");if(Cq){var C3=A.lines.next(Cq);if(C3&&C3.key==C2){Cz=C3;\\nCt+=Cq.width;}}if(!Cz){Cy.literal(1,"nonopt");Cz=A.lines.atKey(C2);Ct=A.lines.offsetOfKey(C2);}else{Cy.literal(0,"nonopt");\\n}Cq=Cz;Cy.mark("spans");BJ(Cz,function(C4,C5){C1.appendSpan(C4,C5);},Ct,Cs());Cy.mark("addLine");C1.prepareForAdd();\\nCz.lineMarker=C1.lineMarker;if(!Cr){B.insertBefore(C0,B.firstChild);}else{B.insertBefore(C0,Cr.nextSibling);\\n}Cr=C0;C1.notifyAdded();Cy.mark("markClean");y(C0);Cy.end();});}function P(){return(A.selStart&&A.selEnd&&A.selStart[0]==A.selEnd[0]&&A.selStart[1]==A.selEnd[1]);\\n}C.ace_isCaret=P;function l(){return A.selStart[0];}function r(){return A.selStart[1];}function A6(){return A.lines.offsetOfIndex(l())+r();\\n}function CF(){if(P()&&r()==0&&l()>0){var i=l();var Cu=A.lines.atIndex(i);var Ct=A.lines.prev(Cu);var Cr=Ct.text;\\nvar Cq=/^ *(?:)/.exec(Cr)[0];if(/[\\\\[\\\\(\\\\{]\\\\s*$/.exec(Cr)){Cq+=Ad;}var Cs=Changeset.builder(A.lines.totalWidth()).keep(A.lines.offsetOfIndex(i),i).insert(Cq,[["author",e]],A.apool).toString();\\nc(Cs);d([i,Cq.length],[i,Cq.length]);}}function Bk(Cs){var Cr=A.lines.atIndex(Cs).lineNode;var i=Cr.firstChild;\\nwhile(AF(i)&&i.firstChild){i=i.firstChild;}var Cq;if(isNodeText(i)){i.nodeValue=" "+i.nodeValue;Cq=i;\\n}else{Cq=E.createTextNode(" ");i.parentNode.insertBefore(Cq,i);}y(Cr);return{unhack:function(){if(Cq.nodeValue==" "){Cq.parentNode.removeChild(Cq);\\n}else{Cq.nodeValue=Cq.nodeValue.substring(1);}y(Cr);}};}function Am(Cw){var Cx=Cw[0];var Cq=Cw[1];var Cu=A.lines.atIndex(Cx);\\nCq-=Cu.lineMarker;if(Cq\\x3c0){Cq=0;}var Cs=Cu.lineNode;var i=Cs;var Cr=false;if(Cq==0){var Cv=0;if(browser.msie&&Cx==(A.lines.length()-1)&&Cs.childNodes.length==0){Cv=1;\\n}return{node:Cs,index:Cv,maxIndex:1};}while(!(i==Cs&&Cr)){if(Cr){if(i.nextSibling){i=i.nextSibling;Cr=false;\\n}else{i=i.parentNode;}}else{if(isNodeText(i)){var Ct=i.nodeValue.length;if(Cq\\x3c=Ct){return{node:i,index:Cq,maxIndex:Ct};\\n}Cq-=Ct;Cr=true;}else{if(i.firstChild){i=i.firstChild;}else{Cr=true;}}}}return{node:Cs,index:1,maxIndex:1};\\n}function BD(i){return i.innerText||i.textContent||i.nodeValue||"";}function Aq(Cr){if(Cr.node==B){if(Cr.index==0){return[0,0];\\n}else{var Cu=A.lines.length();var Cx=A.lines.atIndex(Cu-1);return[Cu-1,Cx.text.length];}}else{var i=Cr.node;\\nvar Cq=0;if(isNodeText(i)){Cq=Cr.index;}else{if(Cr.index>0){Cq=BD(i).length;}}var Cs,Ct;while((Cs=i.parentNode)!=B){if((Ct=i.previousSibling)){i=Ct;\\nCq+=BD(i).length;}else{i=Cs;}}if(i.id==""){V.debug("BAD");}if(i.firstChild&&AF(i.firstChild)){Cq+=1;}var Cv=A.lines.atKey(i.id);\\nvar Cw=A.lines.indexOfEntry(Cv);return[Cw,Cq];}}function AN(Cr){var Cq=CT(Cr.length>0);var i=Cq.node;\\nreturn{key:L(i),text:Cr,lineNode:i,domInfo:Cq,lineMarker:0};}function Cp(i){return Changeset.oldLen(i)==A.alltext.length;\\n}function c(Cq,Cs){Ap(Cq,Cs);var i=null;if(A.selStart&&A.selEnd){var Cw=A.lines.offsetOfIndex(A.selStart[0])+A.selStart[1];\\nvar Ct=A.lines.offsetOfIndex(A.selEnd[0])+A.selEnd[1];var Cr=Changeset.characterRangeFollow(Cq,Cw,Ct,Cs);\\ni=[Cr[0],Cr[1],A.selFocusAtStart];}var Cv={splice:function(Cy,Cx,Cz){Cu(Cy,Cx,map(Array.prototype.slice.call(arguments,2),function(C0){return C0.slice(0,-1);\\n}),null);},get:function(Cx){return A.lines.atIndex(Cx).text+"\\\\n";},length:function(){return A.lines.length();\\n},slice_notused:function(Cy,Cx){return map(A.lines.slice(Cy,Cx),function(Cz){return Cz.text+"\\\\n";});}};\\nChangeset.mutateTextLines(Cq,Cv);BN();if(i){d(R(i[0]),R(i[1]),i[2]);}function Cu(Cx,Cy,C5,C0){C0=(C0||AB(50));\\nvar C2=[];if(Cy>0){var C1=A.lines.atIndex(Cx);for(var C4=0;C4\\x3cCy;C4++){C2.push(C1.key);C1=A.lines.next(C1);\\n}}var C3=map(C5,AN);AJ(Cx,Cy,C3);var Cz;if(Cx>0){Cz=k(A.lines.atIndex(Cx-1).key);}else{Cz=null;}AH(Cz,map(C3,function(C6){return C6.domInfo;\\n}),C0);forEach(C2,function(C7){var C6=E.getElementById(C7);C6.parentNode.removeChild(C6);});if((A.selStart&&A.selStart[0]>=Cx&&A.selStart[0]\\x3c=Cx+Cy)||(A.selEnd&&A.selEnd[0]>=Cx&&A.selEnd[0]\\x3c=Cx+Cy)){D.selectionAffected=true;\\n}}}function Bz(Cx){return true;var Ct=Changeset.opIterator(Changeset.unpack(Cx).ops);var Cq=0;var Cs=0;\\nvar Cr=0;while(Ct.hasNext()){var i=Ct.next();if(i.opcode=="-"||i.opcode=="="){Cq+=i.chars;if(i.lines){Cs+=i.lines;\\nCr=0;}else{Cr+=i.chars;}}var Cu=A.lines.indexOfOffset(Cq);var Cw=A.lines.offsetOfIndex(Cu);var Cv=Cq-Cw;\\nif(Cv!=Cr||Cu!=Cs){return false;}}return true;}function Ap(i,Cr){Changeset.checkRep(i);if(Changeset.oldLen(i)!=A.alltext.length){throw new Error("doRepApplyChangeset length mismatch: "+Changeset.oldLen(i)+"/"+A.alltext.length);\\n}if(!Bz(i)){throw new Error("doRepApplyChangeset line break mismatch");}(function Cq(Ct){var Cs=D.editEvent;\\nif(Cs.eventType=="nonundoable"){if(!Cs.changeset){Cs.changeset=Ct;}else{Cs.changeset=Changeset.compose(Cs.changeset,Ct,A.apool);\\n}}else{var Cu=Changeset.inverse(Ct,{get:function(Cv){return A.lines.atIndex(Cv).text+"\\\\n";},length:function(){return A.lines.length();\\n}},A.alines,A.apool);if(!Cs.backset){Cs.backset=Cu;}else{Cs.backset=Changeset.compose(Cu,Cs.backset,A.apool);\\n}}})(i);Changeset.mutateAttributionLines(i,A.alines,A.apool);if(M.isTracking()){M.composeUserChangeset(i);\\n}}function R(i){var Cq=A.lines.atOffset(i);var Cr=A.lines.offsetOfEntry(Cq);var Cs=A.lines.indexOfEntry(Cq);\\nreturn[Cs,i-Cr];}function BA(Cr,Cq,i){if(Cr==Cq&&i.length==0){return;}if(Cq==A.alltext.length){if(Cr==Cq){Cr--;\\nCq--;i="\\\\n"+i.substring(0,i.length-1);}else{if(i.length==0){Cr--;Cq--;}else{Cq--;i=i.substring(0,i.length-1);\\n}}}a(R(Cr),R(Cq),i);}function a(Cq,Cr,Ct){if(Cq==undefined){Cq=A.selStart;}if(Cr==undefined){Cr=A.selEnd;\\n}var i=Changeset.builder(A.lines.totalWidth());As(i,Cq);BQ(i,Cq,Cr);i.insert(Ct,[["author",e]],A.apool);\\nvar Cs=i.toString();c(Cs);}function AR(Cr,i,Cq){if(i>=A.alltext.length){i=A.alltext.length-1;}AA(R(Cr),R(i),Cq);\\n}C.ace_performDocumentApplyAttributesToCharRange=AR;function AA(Cq,Cr,Ct){var i=Changeset.builder(A.lines.totalWidth());\\nAs(i,Cq);AS(i,Cq,Cr,Ct,A.apool);var Cs=i.toString();c(Cs);}function As(Cq,i){var Cr=A.lines.offsetOfIndex(i[0]);\\nCq.keep(Cr,i[0]);Cq.keep(i[1]);}function BQ(Cr,Cq,i){var Ct=A.lines.offsetOfIndex(Cq[0]);var Cs=A.lines.offsetOfIndex(i[0]);\\nif(i[0]>Cq[0]){Cr.remove(Cs-Ct-Cq[1],i[0]-Cq[0]);Cr.remove(i[1]);}else{Cr.remove(i[1]-Cq[1]);}}function AS(Cr,Cq,i,Ct,Cs){var Cv=A.lines.offsetOfIndex(Cq[0]);\\nvar Cu=A.lines.offsetOfIndex(i[0]);if(i[0]>Cq[0]){Cr.keep(Cu-Cv-Cq[1],i[0]-Cq[0],Ct,Cs);Cr.keep(i[1],0,Ct,Cs);\\n}else{Cr.keep(i[1]-Cq[1],0,Ct,Cs);}}function Az(i,Cq){if(!(A.selStart&&A.selEnd)){return;}AA(A.selStart,A.selEnd,[[i,Cq]]);\\n}C.ace_setAttributeOnSelection=Az;function AD(Cr){if(!(A.selStart&&A.selEnd)){return;}var Cq=true;var C2=Changeset.makeAttribsString("+",[[Cr,"true"]],A.apool);\\nvar C3=new RegExp(C2.replace(/\\\\*/g,"\\\\\\\\*")+"(\\\\\\\\*|$)");function C1(C4){return C3.test(C4);}var Cy=A.selStart[0];\\nvar Cv=A.selEnd[0];for(var i=Cy;i\\x3c=Cv;i++){var Ct=Changeset.opIterator(A.alines[i]);var C0=0;var Cx=0;\\nvar Cs=A.lines.atIndex(i).text.length;if(i==Cy){Cx=A.selStart[1];}if(i==Cv){Cs=A.selEnd[1];}while(Ct.hasNext()){var Cw=Ct.next();\\nvar Cz=C0;var Cu=Cz+Cw.chars;if(!C1(Cw.attribs)){if(!(Cu\\x3c=Cx||Cz>=Cs)){Cq=false;break;}}C0=Cu;}if(!Cq){break;\\n}}if(Cq){AA(A.selStart,A.selEnd,[[Cr,""]]);}else{AA(A.selStart,A.selEnd,[[Cr,"true"]]);}}C.ace_toggleAttributeOnSelection=AD;\\nfunction AY(i){if(!(A.selStart&&A.selEnd)){return;}a(A.selStart,A.selEnd,i);}function AJ(i,Cr,Cq){forEach(Cq,function(Cy){Cy.width=Cy.text.length+1;\\n});var Ct=A.lines.offsetOfIndex(i);var Cu=A.lines.offsetOfIndex(i+Cr);var Cv=A.lines.offsetOfIndex(i);\\nvar Cx=A.lines.offsetOfIndex(i+Cr);A.lines.splice(i,Cr,Cq);D.docTextChanged=true;D.repChanged=true;var Cw=A.lines.offsetOfIndex(i+Cq.length);\\nvar Cs=map(Cq,function(Cy){return Cy.text+"\\\\n";}).join("");A.alltext=A.alltext.substring(0,Ct)+Cs+A.alltext.substring(Cu,A.alltext.length);\\n}function CJ(Cw,C7,DF,DP,Cs){var DG=A.lines.offsetOfIndex(Cw);var DL=A.lines.offsetOfIndex(Cw+C7);var DK=A.lines.offsetOfIndex(Cw);\\nvar DJ,DN;if(Cs&&Cs.selStart){DJ=A.lines.offsetOfIndex(Cs.selStart[0])+Cs.selStart[1]-DK;}if(Cs&&Cs.selEnd){DN=A.lines.offsetOfIndex(Cs.selEnd[0])+Cs.selEnd[1]-DK;\\n}var Ct=map(DF,function(DV){return DV.text+"\\\\n";}).join("");var C2=A.alltext.substring(DG,DL);var DH=A.alines.slice(Cw,Cw+C7).join("");\\nvar C1=DP.join("|1+1")+"|1+1";var DD=B6(C2,Ct,DH,C1,DJ,DN);var C0=DD[0];var Cy=DD[1];var Cr=C2.substring(C0,C2.length-Cy);\\nvar i=Ct.substring(C0,Ct.length-Cy);var Cq=DG+C0;var Cu=DL-Cy;var Cx=false;if(Cr.charAt(Cr.length-1)=="\\\\n"&&i.charAt(i.length-1)=="\\\\n"){Cr=Cr.slice(0,-1);\\ni=i.slice(0,-1);Cu--;Cy++;}if(Cr.length==0&&Cq==A.alltext.length&&i.length>0){Cq--;Cu--;i="\\\\n"+i.slice(0,-1);\\nCx=true;}if(Cu==A.alltext.length&&Cr.length>0&&i.length==0){if(A.alltext.charAt(Cq-1)=="\\\\n"){Cq--;Cu--;\\n}}if(!(Cr.length==0&&i.length==0)){var DS=A.alltext;var DU=DS.length;var C5=A.lines.indexOfOffset(Cq);\\nvar DB=A.lines.offsetOfIndex(C5);function C9(){var DV=Changeset.builder(DU);DV.keep(DB,C5);DV.keep(Cq-DB);\\nreturn DV;}function Cz(Dc,Db){var DX=Changeset.opIterator(Dc);var DV=0;var DY=C0;var Da=Ct.length-Cy-(Cx?1:0);\\nwhile(DX.hasNext()){var DZ=DX.next();var DW=DV+DZ.chars;if(!(DW\\x3c=DY||DV>=Da)){Db(Math.max(DY,DV),Math.min(Da,DW),DZ.attribs);\\n}DV=DW;}}var DQ=(i==Cr);var C6;if(DQ){var DO=BT(function(DV){return Changeset.mapAttribNumbers(DV,function(DX){var DW=A.apool.getAttribKey(DX);\\nif(A0(DW)){return A.apool.putAttrib([DW,""]);}return false;});});var C4=C9();if(Cx){C4.keep(1,1);}Cz(DH,function(DX,DV,DW){C4.keepText(Ct.substring(DX,DV),DO(DW));\\n});var DT=C4.toString();var C3=C9();if(Cx){C3.keep(1,1);}Cz(C1,function(DX,DV,DW){C3.keepText(Ct.substring(DX,DV),DW);\\n});var DR=C3.toString();C6=Changeset.compose(DT,DR,A.apool);}else{var Cv=C9();var DI=A.lines.indexOfOffset(Cu);\\nvar DA=A.lines.offsetOfIndex(DI);if(DA>Cq){Cv.remove(DA-Cq,DI-C5);Cv.remove(Cu-DA);}else{Cv.remove(Cu-Cq);\\n}var DM=false;var DE=Changeset.makeAttribsString("+",(e?[["author",e]]:[]),A.apool);var DC=BT(function(DV){if(DM){return Changeset.composeAttributes(DE,DV,true,A.apool);\\n}else{return Changeset.composeAttributes(DV,DE,true,A.apool);}});var C8="";Cz(C1,function(DY,DX,DW){var DV=Changeset.attribsAttributeValue(DW,"author",A.apool);\\nif(DV&&DV!=C8){if(!C8){C8=DV;}else{DM=true;}}});if(Cx){Cv.insert("\\\\n",DC(""));}Cz(C1,function(DX,DV,DW){Cv.insert(Ct.substring(DX,DV),DC(DW));\\n});C6=Cv.toString();}Ap(C6);}AJ(Cw,C7,DF);BN();}function BT(Cq){var i={};return function(Cr){if(!i[Cr]){i[Cr]=Cq(Cr);\\n}return i[Cr];};}function B6(Cw,Cx,C7,C8,DB,Cy){function Cz(DC){return A0(A.apool.getAttribKey(DC));}function C6(DG){var DD=[];\\nvar DF=[];var DC=Changeset.opIterator(DG);while(DC.hasNext()){var DE=DC.next();DD.push(DE.chars);DF.push(DE.attribs);\\n}return[DD,DF];}function Cu(DG,DF){var DE=DG[0];var DH=DG[1];var DC=(DF?DE.length-1:0);var DD=0;return function DI(){while(DD>=DE[DC]){if(DF){DC--;\\n}else{DC++;}DD=0;}var DJ=DH[DC];DD++;return DJ;};}var Ct=Cw.length;var Cs=Cx.length;var C3=Math.min(Ct,Cs);\\nvar C4=C6(Changeset.filterAttribNumbers(C7,Cz));var C2=C6(Changeset.filterAttribNumbers(C8,Cz));var Cq=0;\\nvar DA=Cu(C4,false);var C9=Cu(C2,false);while(Cq\\x3cC3){if(Cw.charAt(Cq)==Cx.charAt(Cq)&&DA()==C9()){Cq++;\\n}else{break;}}var i=0;var C1=Cu(C4,true);var C5=Cu(C2,true);while(i\\x3cC3){if(i==0){C1();C5();i++;}else{if(Cw.charAt(Ct-1-i)==Cx.charAt(Cs-1-i)&&C1()==C5()){i++;\\n}else{break;}}}var Cr=-1;if((typeof Cy)=="number"){Cr=Cs-Cy;}if(Cq+i>Ct){var Cv=Ct-Cq;var C0=i;if(Cr>=Cv&&Cr\\x3c=C0){i=Cr;\\n}else{i=Cv;}Cq=Ct-i;}if(Cq+i>Cs){var Cv=Cs-Cq;var C0=i;if(Cr>=Cv&&Cr\\x3c=C0){i=Cr;}else{i=Cv;}Cq=Cs-i;}return[Cq,i];\\n}function A2(Cq,i){if(!Cq){return !i;}if(!i){return !Cq;}return(Cq[0]==i[0]&&Cq[1]==i[1]);}function d(Cr,i,Cq){if(BR(Cr,i,Cq)){D.selectionAffected=true;\\n}}function BR(Cq,i,Cr){Cr=!!Cr;var Cs=(Cr&&((!Cq)||(!i)||(Cq[0]!=i[0])||(Cq[1]!=i[1])));if((!A2(A.selStart,Cq))||(!A2(A.selEnd,i))||(A.selFocusAtStart!=Cs)){A.selStart=Cq;\\nA.selEnd=i;A.selFocusAtStart=Cs;if(z){z.notifySelectionChanged();}D.repChanged=true;return true;}return false;\\n}function CT(Ct){if(browser.msie&&(!Ct)){var i={node:null,appendSpan:I,prepareForAdd:I,notifyAdded:I,clearSpans:I,finishUpdate:I,lineMarker:0};\\nvar Cr=E.createElement("div");i.node=Cr;i.notifyAdded=function(){Cr.innerHTML="";setAssoc(Cr,"shouldBeEmpty",true);\\nsetAssoc(Cr,"unpasted",{});};var Cq="ace-line";i.appendSpan=function(Cv,Cu){if((!Cv)&&Cu){Cq=domline.addToLineClass(Cq,Cu);\\n}};i.clearSpans=function(){Cq="";};function Cs(){if(Cq!==null){Cr.className=Cq;}}i.prepareForAdd=Cs;i.finishUpdate=Cs;\\ni.getInnerHTML=function(){return"";};return i;}else{return domline.createDomLine(Ct,K,browser,E);}}function CI(i){return i.replace(/[\\\\n\\\\r ]/g," ").replace(/\\\\xa0/g," ").replace(/\\\\t/g,"        ");\\n}var Br={div:1,p:1,pre:1,li:1,ol:1,ul:1};function AF(i){return !!Br[(i.tagName||"").toLowerCase()];}function BK(){var i=Q("getDirtyRanges",false);\\ni.forIndices=0;i.consecutives=0;i.corrections=0;var Ct={};var Cr=A.lines.length();function Cv(C8){if(Ct[C8]===undefined){i.forIndices++;\\nvar C9;if(C8\\x3c0||C8>=Cr){C9=true;}else{var DA=A.lines.atIndex(C8).key;C9=(k(DA)||false);}Ct[C8]=C9;}return Ct[C8];\\n}var Cw={};function Cx(C8){if(Cw[C8]===undefined){i.consecutives++;Cw[C8]=(function(){var DA=Cv(C8-1);\\nvar C9=Cv(C8);if((!DA)||(!C9)){return false;}if((DA===true)&&(C9===true)){return !B.firstChild;}if((DA===true)&&C9.previousSibling){return false;\\n}if((C9===true)&&DA.nextSibling){return false;}if((DA===true)||(C9===true)){return true;}return DA.nextSibling==C9;\\n})();}return Cw[C8];}function Cy(C8){return !!Cv(C8);}var Cq=[[-1,Cr+1]];function C5(C8){var C9=-1;forEach(Cq,function(DA,DB){if(C8>=DA[1]){return false;\\n}if(C8\\x3cDA[0]){return true;}C9=DB;return true;});return C9;}function C4(C8,C9){var DB=Cq[C8][0];var DA=Cq[C8][1];\\nif((DB+1)==DA){Cq.splice(C8,1);}else{if(C9==DB){Cq[C8][0]++;}else{if(C9==(DA-1)){Cq[C8][1]--;}else{Cq.splice(C8,1,[DB,C9],[C9+1,DA]);\\n}}}}function Cu(C8,C9){var DB=Cq[C8][0];var DA=Cq[C8][1];Cq.splice(C8,1,[DB,C9],[C9,DA]);}var C0={};function C2(C8){if(C0[C8]){return true;\\n}i.corrections++;C0[C8]=true;var C9=C5(C8);var DB=Cy(C8);if(C9\\x3c0){if(DB){V.debug("somehow lost clean line");\\n}return true;}if(!DB){C4(C9,C8);return false;}else{var DD=Cq[C9][0];var DC=Cq[C9][1];var DA=false;if(DD\\x3cC8&&Cy(C8-1)&&!Cx(C8)){Cu(C9,C8);\\nDA=true;}if(DC>(C8+1)&&Cy(C8+1)&&!Cx(C8+1)){Cu(C9,C8+1);DA=true;}return !DA;}}function Cz(DA,DB){var C9=0;\\nvar C8=DA;while(C9\\x3cDB&&C8>=0){if(C2(C8)){C9++;}else{C9=0;}C8--;}C9=0;C8=DA;while(C9\\x3cDB&&C8\\x3cCr){if(C2(C8)){C9++;\\n}else{C9=0;}C8++;}}if(Cr==0){i.cancel();if(!Cx(0)){Cu(0,0);}}else{i.mark("topbot");Cz(0,1);Cz(Cr-1,1);\\ni.mark("obs");for(var C7 in AE.cleanNodesNearChanges){var C3=C7.substring(1);if(A.lines.containsKey(C3)){var C6=A.lines.indexOfKey(C3);\\nCz(C6,2);}}i.mark("stats&calc");i.literal(i.forIndices,"byidx");i.literal(i.consecutives,"cons");i.literal(i.corrections,"corr");\\n}var C1=[];for(var Cs=0;Cs\\x3cCq.length-1;Cs++){C1.push([Cq[Cs][1],Cq[Cs+1][0]]);}i.end();return C1;}function y(Cq){var i={};\\ni.nodeId=L(Cq);i.knownHTML=Cq.innerHTML;if(browser.msie){i.knownText=Cq.innerText;}setAssoc(Cq,"dirtiness",i);\\n}function X(i){var Cr=Q("cleanCheck",false);if(i.parentNode!=B){return true;}var Cq=getAssoc(i,"dirtiness");\\nif(!Cq){return true;}if(i.id!==Cq.nodeId){return true;}if(browser.msie){if(i.innerText!==Cq.knownText){return true;\\n}}if(i.innerHTML!==Cq.knownHTML){return true;}Cr.end();return false;}function A1(Cu,Ct){var Cr=Cu.lineNode;\\nvar Cq=Cr.offsetTop;var Cs=Cr.offsetHeight;var i=(Ct||{});i.top=Cq;i.bottom=(Cq+Cs);return i;}function B5(){var i=Ab();\\nvar Cr=F.document;var Cq=Cr.documentElement.clientHeight;return{top:i,bottom:(i+Cq)};}function Bs(){var Cr=B5();\\nvar Cs={};var Cq=A.lines.search(function(Ct){return A1(Ct,Cs).bottom>Cr.top;});var i=A.lines.search(function(Ct){return A1(Ct,Cs).top>=Cr.bottom;\\n});if(i\\x3cCq){i=Cq;}return[Cq,i];}function BI(){var i=Bs();return[A.lines.offsetOfIndex(i[0]),A.lines.offsetOfIndex(i[1])];\\n}function CZ(Cq){N("handleClick",function(){H.atMost(200);});if((!Cq.ctrlKey)&&(Cq.button!=2)&&(Cq.button!=3)){function Cr(Cu){return(Cu.tagName||"").toLowerCase()=="a"&&Cu.href;\\n}var i=Cq.target;while(i&&i.parentNode&&!Cr(i)){i=i.parentNode;}if(i&&Cr(i)){try{var Cs=window.open(i.href,"_blank");\\nCs.focus();}catch(Ct){}Cq.preventDefault();}}}function Bu(){if(!(A.selStart&&A.selEnd)){return;}var i=A.selStart[0];\\nvar Cq=Z(i);AY("\\\\n");if(Cq){if(i+1\\x3cA.lines.length()){Bh(i+1,Cq);}}else{CF();}}function A7(Cx){if(!(A.selStart&&A.selEnd)){return false;\\n}var Cr,Cw;Cr=A.selStart[0];Cw=Math.max(Cr,A.selEnd[0]-((A.selEnd[1]==0)?1:0));var Cs=[];var Ct=false;\\nfor(var Cq=Cr;Cq\\x3c=Cw;Cq++){var i=Z(Cq);if(i){i=/([a-z]+)([12345678])/.exec(i);if(i){Ct=true;var Cy=i[1];\\nvar Cu=Number(i[2]);var Cv=Math.max(1,Math.min(BW,Cu+(Cx?-1:1)));if(Cu!=Cv){Cs.push([Cq,Cy+Cv]);}}}}if(Cs.length>0){AI(Cs);\\n}return Ct;}C.ace_doIndentOutdent=A7;function Bw(i){if(!A7(i)){AY(Ad);}}function A4(C5){var Cv=C5||{};\\nvar Cx=false;if(A.selStart){if(P()){var Cw=l();var Cu=r();var Cq=A.lines.atIndex(Cw);var C1=Cq.text;var Cy=Cq.lineMarker;\\nif(/^ +$/.exec(C1.substring(Cy,Cu))){var C4=Cu-Cy;var C2=Ad.length;var C0=((C4-1)%C2)+1;a([Cw,Cu-C0],[Cw,Cu],"");\\nCx=true;}}if(!Cx){if(P()){var i=l();var Cq=A.lines.atIndex(i);if(r()\\x3c=Cq.lineMarker){var C7="delete_newline";\\nvar C3=(i>0?Z(i-1):"");var C6=Z(i);var Cr=(i>0&&A.lines.atIndex(i-1));var Cz=(Cr&&Cr.text.length==Cr.lineMarker);\\nif(C6){if(Cz&&!C3){a([i-1,Cr.text.length],[i,0],"");}else{a([i,0],[i,Cq.lineMarker],"");}}else{if(i>0){a([i-1,Cr.text.length],[i,0],"");\\n}}}else{var Cs=A6();if(Cs>0){if(Cv.metaKey||Cv.ctrlKey||Cv.altKey){var Ct=Cs-1;while(Ct>Cq.lineMarker&&m(A.alltext.charAt(Ct-1))){Ct--;\\n}BA(Ct,Cs,"");}else{BA(Cs-1,Cs,"");}}}}else{AY("");}}}}var Bg=/[\\\\u0030-\\\\u0039\\\\u0041-\\\\u005A\\\\u0061-\\\\u007A\\\\u00C0-\\\\u00D6\\\\u00D8-\\\\u00F6\\\\u00F8-\\\\u00FF\\\\u0100-\\\\u1FFF\\\\u3040-\\\\u9FFF\\\\uF900-\\\\uFDFF\\\\uFE70-\\\\uFEFE\\\\uFF10-\\\\uFF19\\\\uFF21-\\\\uFF3A\\\\uFF41-\\\\uFF5A\\\\uFF66-\\\\uFFDC]/;\\nvar CV=/\\\\s/;function m(i){return !!Bg.exec(i);}function Cg(i){return !!CV.exec(i);}function v(Cv,Cw,Cs){var Cq=Cw;\\nfunction Cu(){if(Cs){return Cv.charAt(Cq);}else{return Cv.charAt(Cq-1);}}function Ct(){if(Cs){Cq++;}else{Cq--;\\n}}function Cr(){if(Cs){return Cq>=Cv.length;}else{return Cq\\x3c=0;}}if(browser.windows&&Cs){while((!Cr())&&m(Cu())){Ct();\\n}while((!Cr())&&!m(Cu())){Ct();}}else{while((!Cr())&&!m(Cu())){Ct();}while((!Cr())&&m(Cu())){Ct();}}return Cq;\\n}function AM(i){if(AK&&top.DONT_INCORP){return;}if(!j){return;}var Cr=i.type;var Cw=i.charCode;var Cs=i.keyCode;\\nvar Ct=i.which;var Cy=((!Cw)&&((Cr=="keyup")||(Cr=="keydown"))&&(Cs==16||Cs==17||Cs==18||Cs==20||Cs==224||Cs==91));\\nif(Cy){return;}var Cq=false;var Cv=((browser.msie||browser.safari)?(Cr=="keydown"):(Cr=="keypress"));\\nvar Cu=((browser.msie||browser.safari)?(Cr=="keydown"):(Cr=="keypress"));var Cx=false;N("handleKeyEvent",function(){if(Cr=="keypress"||(Cv&&Cs==13)){if(!Ar(i)){i.preventDefault();\\nCx=true;}}else{if(Cr=="keydown"){At(i);}}if(!Cx){if(Cv&&Cs==8){G(3);i.preventDefault();A4(i);Cq=true;\\n}if((!Cq)&&Cv&&Cs==13){G(4);i.preventDefault();Bu();O.setTimeout(function(){F.scrollBy(-100,0);},0);Cq=true;\\n}if((!Cq)&&Cv&&Cs==9&&!(i.metaKey||i.ctrlKey)){G(5);i.preventDefault();Bw(i.shiftKey);Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="z"&&(i.metaKey||i.ctrlKey)){G(6);\\ni.preventDefault();if(i.shiftKey){x("redo");}else{x("undo");}Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="y"&&(i.metaKey||i.ctrlKey)){G(10);\\ni.preventDefault();x("redo");Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="b"&&(i.metaKey||i.ctrlKey)){G(13);\\ni.preventDefault();AD("bold");Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="i"&&(i.metaKey||i.ctrlKey)){G(14);\\ni.preventDefault();AD("italic");Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="u"&&(i.metaKey||i.ctrlKey)){G(15);\\ni.preventDefault();AD("underline");Cq=true;}if((!Cq)&&Cu&&String.fromCharCode(Ct).toLowerCase()=="h"&&(i.ctrlKey)){G(20);\\ni.preventDefault();A4();Cq=true;}if(z&&z.handleKeyEvent(i)){i.preventDefault();Cq=true;}}if(Cr=="keydown"){H.atLeast(500);\\n}else{if(Cr=="keypress"){if((!Cq)&&AG.shouldNormalizeOnChar(Cw)){H.atMost(0);}else{H.atLeast(500);}}else{if(Cr=="keyup"){var Cz=200;\\nH.atLeast(Cz);H.atMost(Cz);}}}var C1=(browser.mozilla&&i.altKey&&Cw==0&&Cs==0);var C0=(browser.safari&&i.altKey&&Cs==229);\\nif(AC||C1||C0){H.atLeast(3000);AC=true;}if((!Cq)&&(!AC)&&(!q)){if(Cr!="keyup"||!A8()){Av();}}if(Cr=="keyup"){AC=false;\\n}});}var AC=false;function x(Cq){if(undoModule.enabled){var i;if(Cq=="undo"){i="performUndo";}if(Cq=="redo"){i="performRedo";\\n}if(i){var Cr=D.editEvent.eventType;D.startNewEvent(Cq);undoModule[i](function(Ct,Cs){if(Ct){c(Ct);}if(Cs){d(R(Cs.selStart),R(Cs.selEnd),Cs.selFocusAtStart);\\n}var Cu=D.startNewEvent(Cr,true);return Cu;});}}}C.ace_doUndoRedo=x;function Ba(){var i=A.selStart,Cq=A.selEnd;\\nif(!(i&&Cq)){AW(null);return;}var Cs=(false&&browser.mozilla&&i&&Cq&&i[0]==Cq[0]&&i[1]==A.lines.atIndex(i[0]).lineMarker&&Cq[1]==A.lines.atIndex(Cq[0]).lineMarker&&Bk(i[0]));\\nvar Cr={};var Ct=[i[0],i[1]];if(Cs){Ct[1]+=1;}Cr.startPoint=Am(Ct);var Cu=[Cq[0],Cq[1]];if(Cs){Cu[1]+=1;\\n}Cr.endPoint=Am(Cu);Cr.focusAtStart=!!A.selFocusAtStart;AW(Cr);if(Cs){Cs.unhack();}}function Cb(){return map(A.lines.slice(),function(Cr){var Cq=Cr.text;\\nvar i;if(Cq.length==0){i=\\\'\\x3cspan style="color: #aaa">--\\x3c/span>\\\';}else{i=htmlPrettyEscape(Cq);}return"\\x3cdiv>\\x3ccode>"+i+"\\x3c/div>\\x3c/code>";\\n}).join("");}function h(i){if(isNodeText(i)){return i.nodeValue.length;}else{return 1;}}function CY(){var i;\\ntry{i=E.selection;}catch(Cr){}if(!i){return false;}var Cq;try{Cq=i.createRange();}catch(Cr){}if(!Cq){return false;\\n}var Cs=Cq.parentElement();if(Cs.ownerDocument!=E){return false;}return true;}function Ae(){if(browser.msie){var i;\\ntry{i=E.selection;}catch(Cy){}if(!i){return null;}var Cs;try{Cs=i.createRange();}catch(Cy){}if(!Cs){return null;\\n}var C1=Cs.parentElement();if(C1.ownerDocument!=E){return null;}function C2(){return E.body.createTextRange();\\n}function Cw(C4){var C3=C2();C3.moveToElementText(C4);return C3;}function Cu(C7){var C3=C7.parentElement();\\nvar C6=-1;var C9=C3.childNodes.length;var C8=Cw(C3);if(C7.compareEndPoints("StartToStart",C8)==0){return{node:C3,index:0,maxIndex:1};\\n}else{if(C7.compareEndPoints("EndToEnd",C8)==0){if(AF(C3)&&C3.nextSibling){return{node:C3.nextSibling,index:0,maxIndex:1};\\n}return{node:C3,index:1,maxIndex:1};}else{if(C3.childNodes.length==0){return{node:C3,index:0,maxIndex:1};\\n}}}for(var C4=0;C4\\x3cC3.childNodes.length;C4++){var DE=C3.childNodes.item(C4);if(!isNodeText(DE)){var DB=Cw(DE);\\nvar DF=C7.compareEndPoints("StartToStart",DB);var DI=C7.compareEndPoints("EndToEnd",DB);if(DF>=0&&DI\\x3c=0){var DH=0;\\nif(DF>0){DH=1;}return{node:DE,index:DH,maxIndex:1};}else{if(DI>0){if(C4>C6){C6=C4;C8.setEndPoint("StartToEnd",DB);\\n}}else{if(DF\\x3c0){if(C4\\x3cC9){C9=C4;C8.setEndPoint("EndToStart",DB);}}}}}}if((C9-C6)==1){if(C6>=0){return{node:C3.childNodes.item(C6),index:1,maxIndex:1};\\n}else{return{node:C3.childNodes.item(C9),index:0,maxIndex:1};}}var DG=0;var DA=C7.duplicate();var DJ=binarySearchInfinite(40,function(DM){var DL=DM-DG;\\nvar DK=Math.abs(DA.move("character",-DL));if(DA.move("character",-1)){DA.move("character",1);}if(DL\\x3c0){DG-=DK;\\n}else{DG+=DK;}return(DA.compareEndPoints("StartToStart",C8)\\x3c=0);});var DC=C6+1;var DD=DJ;while(DC\\x3cC9){var C5=C3.childNodes.item(DC);\\nif(DD\\x3c=C5.nodeValue.length){return{node:C5,index:DD,maxIndex:C5.nodeValue.length};}DD-=C5.nodeValue.length;\\nDC++;}var C5=C3.childNodes.item(DC-1);return{node:C5,index:C5.nodeValue.length,maxIndex:C5.nodeValue.length};\\n}var Cr={};if(Cs.compareEndPoints("StartToEnd",Cs)==0){var Ct=Cu(Cs);Cr.startPoint=Ct;Cr.endPoint={node:Ct.node,index:Ct.index,maxIndex:Ct.maxIndex};\\n}else{var Cv=Cs.duplicate();Cv.collapse(true);var Cx=Cs.duplicate();Cx.collapse(false);Cr.startPoint=Cu(Cv);\\nCr.endPoint=Cu(Cx);}return Cr;}else{var i=window.getSelection();if(i&&i.type!="None"&&i.rangeCount!==0){var Cq=i.getRangeAt(0);\\nfunction C0(C3){while(C3&&!(C3.tagName&&C3.tagName.toLowerCase()=="body")){C3=C3.parentNode;}return !!C3;\\n}function Cz(C8,C7){if(!C0(C8)){return{node:B,index:0,maxIndex:1};}var C3=C8;var C6=C3.childNodes.length;\\nif(isNodeText(C3)){return{node:C3,index:C7,maxIndex:C3.nodeValue.length};}else{if(C6==0){return{node:C3,index:0,maxIndex:1};\\n}else{if(C7==C6){var C4=C3.childNodes.item(C6-1);var C5=h(C4);return{node:C4,index:C5,maxIndex:C5};}else{var C4=C3.childNodes.item(C7);\\nvar C5=h(C4);return{node:C4,index:0,maxIndex:C5};}}}}var Cr={};Cr.startPoint=Cz(Cq.startContainer,Cq.startOffset);\\nCr.endPoint=Cz(Cq.endContainer,Cq.endOffset);Cr.focusAtStart=(((Cq.startContainer!=Cq.endContainer)||(Cq.startOffset!=Cq.endOffset))&&i.anchorNode&&(i.anchorNode==Cq.endContainer)&&(i.anchorOffset==Cq.endOffset));\\nreturn Cr;}else{return null;}}}function AW(i){function Cw(C6){return{node:C6.node,index:C6.index,maxIndex:C6.maxIndex};\\n}if(browser.msie){E.body.scrollHeight;function C0(C7,C6){while(C6.firstChild&&!isNodeText(C6.firstChild)){C6=C6.firstChild;\\n}C7.moveToElementText(C6);}function C5(){return E.body.createTextRange();}function Ct(C6,C7){if(isNodeText(C7)){if(C7.previousSibling&&!isNodeText(C7.previousSibling)){Cy(C6,C7.previousSibling);\\n}else{Ct(C6,C7.parentNode);}}else{C0(C6,C7);if(C6.move("character",1)){C6.move("character",-1);}C6.collapse(true);\\n}}function Cy(C6,C7){if(isNodeText(C7)){Ct(C6,C7);C6.move("character",C7.nodeValue.length);}else{C0(C6,C7);\\nC6.collapse(false);}}function Cz(C8){var C6=C5();var C7=C8.node;if(isNodeText(C7)){Ct(C6,C7);C6.move("character",C8.index);\\n}else{if(C8.index==0){Ct(C6,C7);}else{Cy(C6,C7);}}return C6;}if(i){if(!CY()){return;}var C2=Cw(i.startPoint);\\nvar Cq=Cw(i.endPoint);if(Cq.index==Cq.maxIndex&&Cq.node.nextSibling){Cq.node=Cq.node.nextSibling;Cq.index=0;\\nCq.maxIndex=h(Cq.node);}var Cs=Cz(C2);Cs.setEndPoint("EndToEnd",Cz(Cq));function C4(C8){var C7;try{C7=E.selection;\\n}catch(C9){}if(!C7){return false;}var C6=C7.createRange();if(C6.parentElement().ownerDocument!=E){return false;\\n}if(C8.compareEndPoints("StartToStart",C6)!==0){return false;}if(C8.compareEndPoints("EndToEnd",C6)!==0){return false;\\n}return true;}if(!C4(Cs)){Cs.select();}}else{try{E.selection.empty();}catch(C3){}}}else{var Cx;function C1(C9){var C6=Cw(C9);\\nif(Cx){function C8(){while(C6.node.childNodes.length>0){if(C6.index==0){C6.node=C6.node.firstChild;C6.maxIndex=h(C6.node);\\n}else{if(C6.index==C6.maxIndex){C6.node=C6.node.lastChild;C6.maxIndex=h(C6.node);C6.index=C6.maxIndex;\\n}else{break;}}}}if(isNodeText(C6.node)&&C6.index==C6.maxIndex){var C7=C6.node;while((!C7.nextSibling)&&(C7!=B)&&(C7.parentNode!=B)){C7=C7.parentNode;\\n}if(C7.nextSibling&&(!((typeof C7.nextSibling.tagName)=="string"&&C7.nextSibling.tagName.toLowerCase()=="br"))&&(C7!=C6.node)&&(C7!=B)&&(C7.parentNode!=B)){C6.node=C7.nextSibling;\\nC6.maxIndex=h(C6.node);C6.index=0;C8();}}if(!isNodeText(C6.node)){C8();}}if(isNodeText(C6.node)){return{container:C6.node,offset:C6.index};\\n}else{return{container:C6.node.parentNode,offset:Bx(C6.node)+C6.index};}}var Cr=window.getSelection();\\nif(Cr){Cr.removeAllRanges();if(i){Cx=(i.startPoint.node===i.endPoint.node&&i.startPoint.index===i.endPoint.index);\\nvar Cu=C1(i.startPoint);var Cv=C1(i.endPoint);if((!Cx)&&i.focusAtStart&&Cr.collapse&&Cr.extend){Cr.collapse(Cv.container,Cv.offset);\\nCr.extend(Cu.container,Cu.offset);}else{var Cs=E.createRange();Cs.setStart(Cu.container,Cu.offset);Cs.setEnd(Cv.container,Cv.offset);\\nCr.removeAllRanges();Cr.addRange(Cs);}}}}}function Bx(i){var Cq=0;while(i.previousSibling){Cq++;i=i.previousSibling;\\n}return Cq;}function g(){if(AO()==0||Ak()==0){return;}function Cq(C4,C5,i){if(C4[C5]!=i){C4[C5]=i;}}var Cy=W.firstChild.offsetWidth;\\nvar Ct=Cy+CD;if(Ct\\x3cAh){Ct=Ah;}o=BS;if(AP){o+=Ct+BO;}Cq(f.style,"left",o+"px");Cq(W.style,"width",Ct+"px");\\nfor(var Cw=0;Cw\\x3c2;Cw++){var Cr=B.clientHeight;var Cs=(browser.msie?B.createTextRange().boundingWidth:B.clientWidth);\\nvar Cu=Ak()-Bo-Aj;var Cv=AO()-o-CR;if(Cr\\x3cCu){Cr=Cu;if(browser.msie){Cq(F.document.documentElement.style,"overflowY","auto");\\n}}else{if(browser.msie){Cq(F.document.documentElement.style,"overflowY","scroll");}}if(K){Cs=Cv;}else{if(Cs\\x3cCv){Cs=Cv;\\n}}if(Cr>32000){Cr=32000;}if(Cs>32000){Cs=32000;}Cq(f.style,"height",Cr+"px");Cq(f.style,"width",Cs+"px");\\nCq(W.style,"height",Cr+"px");}if(browser.mozilla){if(!K){var Cz=B;var Cx=Cu+"px";Cq(Cz.style,"height",Cx);\\n}else{Cq(B.style,"height","");}}var C3=BB();var C2=Ab();var C1=F;var C0=20;Aw();n(W,"sidedivdelayed");\\n}function BE(){var Cq=F;var Cr=F.document;if(typeof(Cq.pageYOffset)=="number"){return{x:Cq.pageXOffset,y:Cq.pageYOffset};\\n}var i=Cr.documentElement;if(i&&typeof(i.scrollTop)=="number"){return{x:i.scrollLeft,y:i.scrollTop};}}function BB(){return BE().x;\\n}function Ab(){return BE().y;}function Cn(i){F.scrollTo(i,Ab());}function Cm(i){F.scrollTo(BB(),i);}function Ci(i,Cq){F.scrollTo(i,Cq);\\n}var BM=[];function BF(){forEach(BM,function(i){i();});}J(window,"load",CC);function Ay(i){try{function Cq(Ct,Cv,Cu){if(String(Ct[Cv]).toLowerCase()!=Cu){Ct[Cv]=Cu;\\nreturn true;}return false;}if(browser.msie||browser.safari){Cq(B,"contentEditable",(i?"true":"false"));\\n}else{var Cr=Cq(E,"designMode",(i?"on":"off"));if(Cr&&i&&browser.opera){A9();}}return true;}catch(Cs){return false;\\n}}var Ch=null;function B3(Cq){var i=window.clipboardData&&window.clipboardData.getData("Text");if(i&&E.selection){}}var q=false;\\nfunction A5(i){if(i.type=="compositionstart"){q=true;}else{if(i.type=="compositionend"){q=false;}}}function A9(){J(window,"unload",BF);\\nJ(document,"keydown",AM);J(document,"keypress",AM);J(document,"keyup",AM);J(document,"click",CZ);J(B,"blur",CK);\\nif(browser.msie){J(document,"click",CN);}if(browser.msie){J(B,"paste",B3);}if((!browser.msie)&&document.documentElement){J(document.documentElement,"compositionstart",A5);\\nJ(document.documentElement,"compositionend",A5);}}function CN(i){if((i.target.tagName||"").toLowerCase()!="html"){return;\\n}if(!(i.pageY>B.clientHeight)){return;}N("handleOuterClick",function(){G(11);if(P()){var Cq=A.lines.length()-1;\\nvar Cr=A.lines.atIndex(Cq).text.length;d([Cq,Cr],[Cq,Cr]);}});}function BC(Cr,i){var Cq=[];(Cr.className||"").replace(/\\\\S+/g,function(Cs){if((!i)||(i(Cs))){Cq.push(Cs);\\n}});return Cq;}function Ax(i,Cq){i.className=Cq.join(" ");}function n(Cr,Cq){var i=false;var Cs=BC(Cr,function(Ct){if(Ct==Cq){i=true;\\n}return true;});if(!i){Cs.push(Cq);Ax(Cr,Cs);}}function CH(Cq,Cr){var i=false;var Cs=BC(Cq,function(Ct){if(Ct==Cr){i=true;\\nreturn false;}return true;});if(i){Ax(Cq,Cs);}}function S(Cq,i,Cr){if(Cr){n(Cq,i);}else{CH(Cq,i);}}function CC(){E=document;\\nN("setup",function(){var Cq=E.getElementById("innerdocbody");B=Cq;if(browser.mozilla){n(B,"mozilla");\\n}if(browser.safari){n(B,"safari");}if(browser.msie){n(B,"msie");}if(browser.msie){try{E.execCommand("BackgroundImageCache",false,true);\\n}catch(Cr){}}S(B,"authorColors",true);S(B,"doesWrap",K);Bi();Aw();while(B.firstChild){B.removeChild(B.firstChild);\\n}var i=AN("");AJ(0,A.lines.length(),[i]);AH(null,[i.domInfo],null);A.alines=Changeset.splitAttributionLines(Changeset.makeAttribution("\\\\n"),"\\\\n");\\nA9();});O.setTimeout(function(){parent.readyFunc();},0);B4=true;}function Bc(){window.focus();}function CK(i){if(browser.msie){AW(null);\\n}}function J(Cq,Cr,i){var Cs;if((typeof i._wrapper)!="function"){i._wrapper=function(Ct){i(CP(Ct||window.event||{}));\\n};}var Cs=i._wrapper;if(Cq.addEventListener){Cq.addEventListener(Cr,Cs,false);}else{Cq.attachEvent("on"+Cr,Cs);\\n}BM.push(function(){B2(Cq,Cr,i);});}function B2(i,Cr,Cs){var Cq=Cs._wrapper;if(i.removeEventListener){i.removeEventListener(Cr,Cq,false);\\n}else{i.detachEvent("on"+Cr,Cq);}}function B0(Cx){var Cq=Cx.node;var Cu=Cx.index;function Cr(C1){return C1.offsetLeft;\\n}function Cs(C1){return C1.offsetLeft+C1.offsetWidth;}if(!isNodeText(Cq)){if(Cu==0){return Cr(Cq);}else{return Cs(Cq);\\n}}else{var Ct=Cu;var Cw=Cq.nodeValue.length-Cu;var i;for(i=Cq.previousSibling;i&&isNodeText(i);i=i.previousSibling){Ct+=i.nodeValue;\\n}var Cv=(i?Cs(i):Cr(Cq.parentNode));for(i=Cq.nextSibling;i&&isNodeText(i);i=i.nextSibling){Cw+=i.nodeValue;\\n}var C0=(i?Cr(i):Cs(Cq.parentNode));var Cy=(Ct/(Ct+Cw));var Cz=Cv+Cy*(C0-Cv);return Math.round(Cz);}}function Ce(){var i=F;\\nvar Cq=i.document;if(i.innerHeight&&i.scrollMaxY){return i.innerHeight+i.scrollMaxY;}else{if(Cq.body.scrollHeight>Cq.body.offsetHeight){return Cq.body.scrollHeight;\\n}else{return Cq.body.offsetHeight;}}}function Co(){var i=F;var Cq=i.document;if(i.innerWidth&&i.scrollMaxX){return i.innerWidth+i.scrollMaxX;\\n}else{if(Cq.body.scrollWidth>Cq.body.offsetWidth){return Cq.body.scrollWidth;}else{return Cq.body.offsetWidth;\\n}}}function Ak(){var Cq=F;var Cr=Cq.document;var i;if(browser.opera){i=Cq.innerHeight;}else{i=Cr.documentElement.clientHeight;\\n}if(i){return i;}return Number(C.frame.parentNode.style.height.replace(/[^0-9]/g,"")||0);}function AO(){var Cq=F;\\nvar i=Cq.document;return i.documentElement.clientWidth;}function Bt(Cq){var i=F;var Ct=F.document;var Cr=Cq.offsetTop+Aj-i.scrollY;\\nvar Cs=i.scrollY+Ak()-(Cq.offsetTop+Aj+Cq.offsetHeight);if(Cr\\x3c0){i.scrollBy(0,Cr);}else{if(Cs\\x3c0){i.scrollBy(0,-Cs);\\n}}}function CU(Cq){var i=F;var Ct=F.document;Cq+=o;var Cr=Cq-i.scrollX;var Cs=i.scrollX+AO()-Cq;if(Cr\\x3c0){i.scrollBy(Cr,0);\\n}else{if(Cs\\x3c0){i.scrollBy(-Cs+1,0);}}}function CQ(){if(!A.selStart){return;}g();var Cr=(A.selFocusAtStart?A.selStart[0]:A.selEnd[0]);\\nBt(A.lines.atIndex(Cr).lineNode);if(!K){var i=Ae();if(i){var Cs=(i.focusAtStart?i.startPoint:i.endPoint);\\nvar Cq=B0(Cs);CU(Cq);g();}}}function Z(Cr){var Cq=A.alines[Cr];if(Cq){var i=Changeset.opIterator(Cq);\\nif(i.hasNext()){return Changeset.opAttributeValue(i.next(),"list",A.apool)||"";}}return"";}function Bh(Cq,i){AI([[Cq,i]]);\\n}function AI(Cx){var Cq=[0,0];var Cr=Changeset.builder(A.lines.totalWidth());for(var Cu=0;Cu\\x3cCx.length;\\nCu++){var Cw=Cx[Cu];var Ct=Cw[0];var Cs=Cw[1];AS(Cr,Cq,(Cq=[Ct,0]));if(Z(Ct)){if(Cs){AS(Cr,Cq,(Cq=[Ct,1]),[["list",Cs]],A.apool);\\n}else{BQ(Cr,Cq,(Cq=[Ct,1]));}}else{if(Cs){Cr.insert("*",[["author",e],["insertorder","first"],["list",Cs]],A.apool);\\n}}}var Cv=Cr.toString();if(!Changeset.isIdentity(Cv)){c(Cv);}}function Bf(){if(!(A.selStart&&A.selEnd)){return;\\n}var Cq,Cr;Cq=A.selStart[0];Cr=Math.max(Cq,A.selEnd[0]-((A.selEnd[1]==0)?1:0));var Cu=true;for(var i=Cq;\\ni\\x3c=Cr;i++){if(!Z(i)){Cu=false;break;}}var Ct=[];for(var i=Cq;i\\x3c=Cr;i++){var Cs=Z(i);Ct.push([i,Cu?"":(Cs?Cs:"bullet1")]);\\n}AI(Ct);}C.ace_doInsertUnorderedList=Bf;var z=(browser.mozilla&&(function(){var i=0;var Cq=false;function Cs(Cv){var Cu=A.lines.atIndex(Cv).lineNode;\\nwhile(Cu.firstChild&&AF(Cu.firstChild)){Cu=Cu.firstChild;}return makeVirtualLineView(Cu);}function Ct(Cu,Cv){return[Cu,Cv-A.lines.atIndex(Cu).lineMarker];\\n}function Cr(Cu,Cv){return[Cu,Cv+A.lines.atIndex(Cu).lineMarker];}return{notifySelectionChanged:function(){if(!Cq){i=0;\\n}},handleKeyEvent:function(C1){if(C1.type!="keypress"){return false;}var Cx=C1.keyCode;if(Cx\\x3c37||Cx>40){return false;\\n}p();if(!(A.selStart&&A.selEnd)){return true;}var Cy=(C1.altKey?"byWord":(C1.ctrlKey?"byWord":(C1.metaKey?"toEnd":"normal")));\\nvar Cv=Ct(A.selStart[0],A.selStart[1]);var Cu=Ct(A.selEnd[0],A.selEnd[1]);var DC=P();if(A.selFocusAtStart){var DL=Cv;\\nCv=Cu;Cu=DL;}var DI=38,DK=40,C8=37,DF=39;var C9=false;if(DC&&!C1.shiftKey){Cv=Cu;}else{if((!DC)&&(!C1.shiftKey)){if(Cx==C8){if(A.selFocusAtStart){Cv=Cu;\\n}else{Cu=Cv;}if(Cy=="normal"){C9=true;}}else{if(Cx==DF){if(A.selFocusAtStart){Cu=Cv;}else{Cv=Cu;}if(Cy=="normal"){C9=true;\\n}}else{Cv=Cu;}}}}if(!C9){function C2(DO){var DN=A.lines.atIndex(DO);return DN.text.length-DN.lineMarker;\\n}function C5(DO){var DN=A.lines.atIndex(DO);return DN.text.substring(DN.lineMarker);}if(Cx==DI||Cx==DK){var Cz=(Cx==DI);\\nvar C4=((Cz&&Cu[0])||((!Cz)&&Cu[0]\\x3cA.lines.length()-1));var C7,C3,DB=false;if(K){C7=Cs(Cu[0]);C3=C7.getVLineAndOffsetForChar(Cu[1]);\\nDB=((Cz&&C3.vline>0)||((!Cz)&&C3.vline\\x3c(C7.getNumVirtualLines()-1)));}var DM;if(Cy=="toEnd"){if(Cz){Cu[0]=0;\\nCu[1]=0;}else{Cu[0]=A.lines.length()-1;Cu[1]=C2(Cu[0]);}}else{if(Cy=="byWord"){if(Cz){if(Cu[1]==0&&C4){Cu[0]--;\\nCu[1]=0;}else{Cu[1]=0;}}else{var C0=C2(Cu[0]);if(browser.windows){if(C4){Cu[0]++;Cu[1]=0;}else{Cu[1]=C0;\\n}}else{if(Cu[1]==C0&&C4){Cu[0]++;Cu[1]=C2(Cu[0]);}else{Cu[1]=C0;}}}i=0;}else{if(DB){var C6=C3.vline;var Cw=C3.offset;\\nif(Cz){C6--;}else{C6++;}if(i>Cw){Cw=i;}else{i=Cw;}var DG=C7.getCharForVLineAndOffset(C6,Cw);Cu[1]=DG.lineChar;\\n}else{if(C4){if(Cz){Cu[0]--;}else{Cu[0]++;}var Cw=Cu[1];if(K){Cw=C3.offset;}if(i>Cw){Cw=i;}else{i=Cw;\\n}if(K){var DH=Cs(Cu[0]);var C6=(Cz?DH.getNumVirtualLines()-1:0);var DG=DH.getCharForVLineAndOffset(C6,Cw);\\nCu[1]=DG.lineChar;}else{var C0=C2(Cu[0]);if(Cw>C0){Cw=C0;}Cu[1]=Cw;}}else{if(Cz){Cu[1]=0;}else{Cu[1]=C2(Cu[0]);\\n}i=0;}}}}}else{if(Cx==C8||Cx==DF){var DJ=(Cx==C8);if(DJ){if(Cy=="toEnd"){Cu[1]=0;}else{if(Cu[1]>0){if(Cy=="byWord"){Cu[1]=v(C5(Cu[0]),Cu[1],false);\\n}else{Cu[1]--;}}else{if(Cu[0]>0){Cu[0]--;Cu[1]=C2(Cu[0]);if(Cy=="byWord"){Cu[1]=v(C5(Cu[0]),Cu[1],false);\\n}}}}}else{var C0=C2(Cu[0]);if(Cy=="toEnd"){Cu[1]=C0;}else{if(Cu[1]\\x3cC0){if(Cy=="byWord"){Cu[1]=v(C5(Cu[0]),Cu[1],true);\\n}else{Cu[1]++;}}else{if(Cu[0]\\x3cA.lines.length()-1){Cu[0]++;Cu[1]=0;if(Cy=="byWord"){Cu[1]=v(C5(Cu[0]),Cu[1],true);\\n}}}}}i=0;}}}var DA=((Cu[0]\\x3cCv[0])||(Cu[0]==Cv[0]&&Cu[1]\\x3cCv[1]));var DE=(DA?Cu:Cv);var DD=(DA?Cv:Cu);Cq=true;\\nd(Cr(DE[0],DE[1]),Cr(DD[0],DD[1]),DA);Cq=false;D.userChangedSelection=true;return true;}};})());function CP(i){var Cq=i;\\ni=extend({},Cq);i.preventDefault=function(){if(Cq.preventDefault){Cq.preventDefault();}Cq.returnValue=false;\\n};i.stopPropagation=function(){if(Cq.stopPropagation){Cq.stopPropagation();}Cq.cancelBubble=true;};if(!i.target&&i.srcElement){i.target=i.srcElement;\\n}if(browser.safari&&i.target.nodeType==3){i.target=Cq.target.parentNode;}if(!i.relatedTarget&&i.fromElement){i.relatedTarget=i.fromElement==i.target?i.toElement:i.fromElement;\\n}if(i.pageX==null&&i.clientX!=null){var Cr=document.documentElement,Cs=document.body;i.pageX=i.clientX+(Cr&&Cr.scrollLeft||Cs.scrollLeft||0);\\ni.pageY=i.clientY+(Cr&&Cr.scrollTop||Cs.scrollTop||0);}if(!i.which&&(i.charCode||i.keyCode)){i.which=i.charCode||i.keyCode;\\n}if(!i.metaKey&&i.ctrlKey){i.metaKey=i.ctrlKey;}if(!i.which&&i.button){i.which=(i.button&1?1:(i.button&2?3:(i.button&4?2:0)));\\n}return i;}var b;var Ai;function BX(){b=1;W.innerHTML=\\\'\\x3ctable border="0" cellpadding="0" cellspacing="0" align="right">\\x3ctr>\\x3ctd id="sidedivinner">\\x3cdiv>1\\x3c/div>\\x3c/td>\\x3c/tr>\\x3c/table>\\\';\\nAi=F.document.getElementById("sidedivinner");}function CO(){var Cr=A.lines.length();if(Cr\\x3c1){Cr=1;}if(Cr!=b){var Cs=Ai;\\nvar Cw=F.document;while(b\\x3cCr){b++;var Cx=b;var Cu=Cw.createElement("DIV");Cu.appendChild(Cw.createTextNode(String(Cx)));\\nCs.appendChild(Cu);}while(b>Cr){Cs.removeChild(Cs.lastChild);b--;}}if(D&&D.domClean){var Cq=Ai.firstChild;\\nvar i=E.body.firstChild;while(Cq&&i){var Ct=(i.clientHeight||i.offsetHeight);if(i.nextSibling){Ct=i.nextSibling.offsetTop-i.offsetTop;\\n}if(Ct){var Cv=Ct+"px";if(Cq.style.height!=Cv){Cq.style.height=Cv;}}Cq=Cq.nextSibling;i=i.nextSibling;\\n}}}}OUTER(this);\'+\'//-->\\n\\x3c/script>\')'));
T.push('\'\\n<style type="text/css" title="dynamicsyntax"></style>\\n\'');T.push('\'</head><body id="innerdocbody" class="syntax" spellcheck="false">&nbsp;</body></html>\'');
var X='editorId = "'+A.id+'"; editorInfo = parent.'+K+'.registry[editorId]; window.onload = function() { window.onload = null; setTimeout(function() { var iframe = document.createElement("IFRAME"); iframe.scrolling = "no"; var outerdocbody = document.getElementById("outerdocbody"); iframe.frameBorder = 0; iframe.allowTransparency = true; outerdocbody.insertBefore(iframe, outerdocbody.firstChild); iframe.ace_outerWin = window; readyFunc = function() { editorInfo.onEditorReady(); readyFunc = null; editorInfo = null; }; var doc = iframe.contentWindow.document; doc.open(); doc.write('+T.join("+")+"); doc.close(); }, 0); }";
var Y=[W,"<html><head>",('<style type="text/css">body{margin:0;white-space:nowrap;}#outerdocbody{background-color:#fff;}body.grayedout{background-color:#eee!important;}#innerdocbody{font-size:12px;font-family:monospace;line-height:16px;}body.doesWrap{white-space:normal;}#innerdocbody{padding-top:1px;padding-right:10px;padding-bottom:8px;padding-left:1px;overflow:hidden;background-image:url(data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==);}#sidediv{font-size:11px;font-family:monospace;line-height:16px;padding-top:8px;padding-right:3px;position:absolute;width:20px;top:0;left:0;cursor:default;color:white;}#sidedivinner{text-align:right;}.sidedivdelayed{background-color:#eee;color:#888!important;border-right:1px solid #999;}.sidedivhidden{display:none;}#outerdocbody iframe{display:block;position:relative;left:32px;top:7px;border:0;width:1px;height:1px;}#outerdocbody .hotrect{border:1px solid #999;position:absolute;}body.mozilla,body.safari{display:table-cell;}body.doesWrap{display:block!important;}.safari div{padding-right:1px;}p{margin:0;}#linemetricsdiv{position:absolute;left:-1000px;top:-1000px;color:white;z-index:-1;font-size:12px;font-family:monospace;}#overlaysdiv{position:absolute;left:-1000px;top:-1000px;}</style>'),'<link rel="stylesheet" type="text/css" href="data:text/css,"/>',"\x3cscript>",X,"\x3c/script>",'</head><body id="outerdocbody"><div id="sidediv"><!-- --></div><div id="linemetricsdiv">x</div><div id="overlaysdiv"><!-- --></div></body></html>'];
if(!Array.prototype.map){Array.prototype.map=function(b){if(typeof b!="function"){throw new TypeError();
}var a=this.length;var c=new Array(a);var d=arguments[1];for(var Z=0;Z<a;Z++){if(Z in this){c[Z]=b.call(d,this[Z],Z,this);
}}return c;};}var U=document.createElement("IFRAME");U.frameBorder=0;A.frame=U;document.getElementById(Q).appendChild(U);
var V=U.contentWindow.document;V.open();V.write(Y.join(""));V.close();})();};return B;}